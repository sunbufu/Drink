(function(){var define=null;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.eio=e()}}(function(){var e;return function t(e,r,n){function o(i,a){if(!r[i]){if(!e[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var u=r[i]={exports:{}};e[i][0].call(u.exports,function(t){var r=e[i][1][t];return o(r?r:t)},u,u.exports,t,e,r,n)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,r){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":3,"engine.io-parser":20}],3:[function(e,t,r){(function(r){function n(e,t){if(!(this instanceof n))return new n(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:r.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(r.location?location.hostname:"localhost"),this.port=t.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized;var o="object"==typeof r&&r;o.global===o&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function o(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var s=e("./transports"),i=e("component-emitter"),a=e("debug")("engine.io-client:socket"),c=e("indexof"),p=e("engine.io-parser"),u=e("parseuri"),h=e("parsejson"),f=e("parseqs");t.exports=n,n.priorWebsocketSuccess=!1,i(n.prototype),n.protocol=p.protocol,n.Socket=n,n.Transport=e("./transport"),n.transports=e("./transports"),n.parser=e("engine.io-parser"),n.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=p.protocol,t.transport=e,this.id&&(t.sid=this.id);var r=new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return r},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;h=h||t}h||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!h)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",u),!u)return;n.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){h||"closed"!=f.readyState&&(a("changing transport and sending upgrade packet"),p(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{a('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=u.name,f.emit("upgradeError",r)}}))}function r(){h||(h=!0,p(),u.close(),u=null)}function o(t){var n=new Error("probe error: "+t);n.transport=u.name,r(),a('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",n)}function s(){o("transport closed")}function i(){o("socket closed")}function c(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),r())}function p(){u.removeListener("open",t),u.removeListener("error",o),u.removeListener("close",s),f.removeListener("close",i),f.removeListener("upgrading",c)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),h=!1,f=this;n.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",o),u.once("close",s),this.once("close",i),this.once("upgrading",c),u.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(h(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},n.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!=this.readyState&&"closed"!=this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:e,data:t,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function e(){n.onClose("forced close"),a("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function r(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}return this},n.prototype.onError=function(e){a("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~c(this.transports,e[r])&&t.push(e[r]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":16,debug:18,"engine.io-parser":20,indexof:24,parsejson:27,parseqs:28,parseuri:29}],4:[function(e,t,r){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var o=e("engine.io-parser"),s=e("component-emitter");t.exports=n,s(n.prototype),n.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},n.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":16,"engine.io-parser":20}],5:[function(e,t,r){(function(t){function n(e){var r,n=!1,a=!1,c=!1!==e.jsonp;if(t.location){var p="https:"==location.protocol,u=location.port;u||(u=p?443:80),n=e.hostname!=location.hostname||u!=e.port,a=e.secure!=p}if(e.xdomain=n,e.xscheme=a,r=new o(e),"open"in r&&!e.forceJSONP)return new s(e);if(!c)throw new Error("JSONP disabled");return new i(e)}var o=e("xmlhttprequest-ssl"),s=e("./polling-xhr"),i=e("./polling-jsonp"),a=e("./websocket");r.polling=n,r.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(e,t,r){(function(r){function n(){}function o(e){s.call(this,e),this.query=this.query||{},a||(r.___eio||(r.___eio=[]),a=r.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,r.document&&r.addEventListener&&r.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)},!1)}var s=e("./polling"),i=e("component-inherit");t.exports=o;var a,c=/\n/g,p=/\\n/g;i(o,s),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function r(){n(),t()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(t)}catch(e){s=document.createElement("iframe"),s.name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,i=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}this.form.action=this.uri(),n(),e=e.replace(p,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&r()}:this.iframe.onload=r}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":17}],7:[function(e,t,r){(function(r){function n(){}function o(e){if(c.call(this,e),r.location){var t="https:"==location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!=r.location.hostname||n!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function s(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function i(){for(var e in s.requests)s.requests.hasOwnProperty(e)&&s.requests[e].abort()}var a=e("xmlhttprequest-ssl"),c=e("./polling"),p=e("component-emitter"),u=e("component-inherit"),h=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=s,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new s(e)},o.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),o=this;n.on("success",t),n.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=n},o.prototype.doPoll=function(){h("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},p(s.prototype),s.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),n=this;try{h("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch(i){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},h("xhr data %s",this.data),t.send(this.data)}catch(i){return void setTimeout(function(){n.onError(i)},0)}r.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},s.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},s.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(t){}r.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(r){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(r){for(var n=new Uint8Array(this.xhr.response),o=[],s=0,i=n.length;s<i;s++)o.push(n[s]);e=String.fromCharCode.apply(null,o)}else e=this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},s.prototype.hasXDR=function(){return"undefined"!=typeof r.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},r.document&&(s.requestsCount=0,s.requests={},r.attachEvent?r.attachEvent("onunload",i):r.addEventListener&&r.addEventListener("beforeunload",i,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":16,"component-inherit":17,debug:18,"xmlhttprequest-ssl":10}],8:[function(e,t,r){function n(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),s=e("parseqs"),i=e("engine.io-parser"),a=e("component-inherit"),c=e("yeast"),p=e("debug")("engine.io-client:polling");t.exports=n;var u=function(){var t=e("xmlhttprequest-ssl"),r=new t({xdomain:!1});return null!=r.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){p("paused"),r.readyState="paused",e()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(p("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){p("pre-pause polling complete"),--n||t()})),this.writable||(p("we are currently writing - waiting to pause"),n++,this.once("drain",function(){p("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;p("polling got data %s",e);var r=function(e,r,n){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};i.decodePayload(e,this.socket.binaryType,r),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){p("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(p("transport open - closing"),e()):(p("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")},t=this;i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(r=":"+this.port),e.length&&(e="?"+e);var n=this.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e}},{"../transport":4,"component-inherit":17,debug:18,"engine.io-parser":20,parseqs:28,"xmlhttprequest-ssl":10,yeast:31}],9:[function(e,t,r){(function(r){function n(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,o.call(this,e)}var o=e("../transport"),s=e("engine.io-parser"),i=e("parseqs"),a=e("component-inherit"),c=e("yeast"),p=e("debug")("engine.io-client:websocket"),u=r.WebSocket||r.MozWebSocket,h=u;if(!h&&"undefined"==typeof window)try{h=e("ws")}catch(f){}t.exports=n,a(n,o),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.ws=u?new h(e):new h(e,t,r),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function t(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var o=e.length,i=0,a=o;i<a;i++)!function(e){s.encodePacket(e,n.supportsBinary,function(s){if(!u){var i={};if(e.options&&(i.compress=e.options.compress),n.perMessageDeflate){var a="string"==typeof s?r.Buffer.byteLength(s):s.length;a<n.perMessageDeflate.threshold&&(i.compress=!1)}}try{u?n.ws.send(s):n.ws.send(s,i)}catch(c){p("websocket closed before onclose event")}--o||t()})}(e[i])},n.prototype.onClose=function(){o.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),e=i.encode(e),e.length&&(e="?"+e);var n=this.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+e},n.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===n.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":17,debug:18,"engine.io-parser":20,parseqs:28,ws:15,yeast:31}],10:[function(e,t,r){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(s){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}},{"has-cors":23}],11:[function(e,t,r){function n(e,t,r){function n(e,o){if(n.count<=0)throw new Error("after called too many times");--n.count,e?(s=!0,t(e),t=r):0!==n.count||s||t(null,o)}var s=!1;return r=r||o,n.count=e,0===e?t():n}function o(){}t.exports=n},{}],12:[function(e,t,r){t.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(e),s=new Uint8Array(r-t),i=t,a=0;i<r;i++,a++)s[a]=o[i];return s.buffer}},{}],13:[function(e,t,r){!function(e){"use strict";r.encode=function(t){var r,n=new Uint8Array(t),o=n.length,s="";for(r=0;r<o;r+=3)s+=e[n[r]>>2],s+=e[(3&n[r])<<4|n[r+1]>>4],s+=e[(15&n[r+1])<<2|n[r+2]>>6],s+=e[63&n[r+2]];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},r.decode=function(t){var r,n,o,s,i,a=.75*t.length,c=t.length,p=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(r=0;r<c;r+=4)n=e.indexOf(t[r]),o=e.indexOf(t[r+1]),s=e.indexOf(t[r+2]),i=e.indexOf(t[r+3]),h[p++]=n<<2|o>>4,h[p++]=(15&o)<<4|s>>2,h[p++]=(3&s)<<6|63&i;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(e,t,r){(function(e){function r(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}e[t]=n}}}function n(e,t){t=t||{};var n=new s;r(e);for(var o=0;o<e.length;o++)n.append(e[o]);return t.type?n.getBlob(t.type):n.getBlob()}function o(e,t){return r(e),new Blob(e,t||{})}var s=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,i=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),a=i&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),c=s&&s.prototype.append&&s.prototype.getBlob;t.exports=function(){return i?a?e.Blob:o:c?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(e,t,r){},{}],16:[function(e,t,r){function n(e){if(e)return o(e)}function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[e];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],17:[function(e,t,r){t.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],18:[function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,n),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(t){}}function a(){var e;try{e=r.storage.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}r=t.exports=e("./debug"),r.log=s,r.formatArgs=o,r.save=i,r.load=a,r.useColors=n,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(a())},{"./debug":19}],19:[function(e,t,r){function n(){return r.colors[u++%r.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,s=t-(p||t);e.diff=s,e.prev=p,e.curr=t,p=t,null==e.useColors&&(e.useColors=r.useColors()),null==e.color&&e.useColors&&(e.color=n());var i=Array.prototype.slice.call(arguments);i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;a++;var o=r.formatters[n];if("function"==typeof o){var s=i[a];t=o.call(e,s),i.splice(a,1),a--}return t}),"function"==typeof r.formatArgs&&(i=r.formatArgs.apply(e,i));var c=o.log||r.log||console.log.bind(console);c.apply(e,i)}t.enabled=!1,o.enabled=!0;var s=r.enabled(e)?o:t;return s.namespace=e,s}function s(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function i(){r.enable("")}function a(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=o,r.coerce=c,r.disable=i,r.enable=s,r.enabled=a,r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={};var p,u=0},{ms:26}],20:[function(e,t,r){(function(t){function n(e,t){var n="b"+r.packets[e.type]+e.data.data;return t(n)}function o(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var o=e.data,s=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=m[e.type];for(var a=0;a<s.length;a++)i[a+1]=s[a];return n(i.buffer)}function s(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var o=new FileReader;return o.onload=function(){e.data=o.result,r.encodePacket(e,t,!0,n)},o.readAsArrayBuffer(e.data)}function i(e,t,n){if(!t)return r.encodeBase64Packet(e,n);if(g)return s(e,t,n);var o=new Uint8Array(1);o[0]=m[e.type];var i=new w([o.buffer,e.data]);return n(i)}function a(e,t,r){for(var n=new Array(e.length),o=f(e.length,r),s=function(e,r,o){t(r,function(t,r){n[e]=r,o(t,n)})},i=0;i<e.length;i++)s(i,e[i],o)}var c=e("./keys"),p=e("has-binary"),u=e("arraybuffer.slice"),h=e("base64-arraybuffer"),f=e("after"),l=e("utf8"),d=navigator.userAgent.match(/Android/i),y=/PhantomJS/i.test(navigator.userAgent),g=d||y;r.protocol=3;var m=r.packets={
open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=c(m),b={type:"error",data:"parser error"},w=e("blob");r.encodePacket=function(e,r,s,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof s&&(a=s,s=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,r,a);if(w&&c instanceof t.Blob)return i(e,r,a);if(c&&c.base64)return n(e,a);var p=m[e.type];return void 0!==e.data&&(p+=s?l.encode(String(e.data)):String(e.data)),a(""+p)},r.encodeBase64Packet=function(e,n){var o="b"+r.packets[e.type];if(w&&e.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];n(o+e)},s.readAsDataURL(e.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var c=new Uint8Array(e.data),p=new Array(c.length),u=0;u<c.length;u++)p[u]=c[u];i=String.fromCharCode.apply(null,p)}return o+=t.btoa(i),n(o)},r.decodePacket=function(e,t,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return r.decodeBase64Packet(e.substr(1),t);if(n)try{e=l.decode(e)}catch(o){return b}var s=e.charAt(0);return Number(s)==s&&v[s]?e.length>1?{type:v[s],data:e.substring(1)}:{type:v[s]}:b}var i=new Uint8Array(e),s=i[0],a=u(e,1);return w&&"blob"===t&&(a=new w([a])),{type:v[s],data:a}},r.decodeBase64Packet=function(e,r){var n=v[e.charAt(0)];if(!t.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=h.decode(e.substr(1));return"blob"===r&&w&&(o=new w([o])),{type:n,data:o}},r.encodePayload=function(e,t,n){function o(e){return e.length+":"+e}function s(e,n){r.encodePacket(e,!!i&&t,!0,function(e){n(null,o(e))})}"function"==typeof t&&(n=t,t=null);var i=p(e);return t&&i?w&&!g?r.encodePayloadAsBlob(e,n):r.encodePayloadAsArrayBuffer(e,n):e.length?void a(e,s,function(e,t){return n(t.join(""))}):n("0:")},r.decodePayload=function(e,t,n){if("string"!=typeof e)return r.decodePayloadAsBinary(e,t,n);"function"==typeof t&&(n=t,t=null);var o;if(""==e)return n(b,0,1);for(var s,i,a="",c=0,p=e.length;c<p;c++){var u=e.charAt(c);if(":"!=u)a+=u;else{if(""==a||a!=(s=Number(a)))return n(b,0,1);if(i=e.substr(c+1,s),a!=i.length)return n(b,0,1);if(i.length){if(o=r.decodePacket(i,t,!0),b.type==o.type&&b.data==o.data)return n(b,0,1);var h=n(o,c+s,p);if(!1===h)return}c+=s,a=""}}return""!=a?n(b,0,1):void 0},r.encodePayloadAsArrayBuffer=function(e,t){function n(e,t){r.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,n,function(e,r){var n=r.reduce(function(e,t){var r;return r="string"==typeof t?t.length:t.byteLength,e+r.toString().length+r+2},0),o=new Uint8Array(n),s=0;return r.forEach(function(e){var t="string"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);r=n.buffer}t?o[s++]=0:o[s++]=1;for(var a=r.byteLength.toString(),i=0;i<a.length;i++)o[s++]=parseInt(a[i]);o[s++]=255;for(var n=new Uint8Array(r),i=0;i<n.length;i++)o[s++]=n[i]}),t(o.buffer)}):t(new ArrayBuffer(0))},r.encodePayloadAsBlob=function(e,t){function n(e,t){r.encodePacket(e,!0,!0,function(e){var r=new Uint8Array(1);if(r[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);e=n.buffer,r[0]=0}for(var s=e instanceof ArrayBuffer?e.byteLength:e.size,i=s.toString(),a=new Uint8Array(i.length+1),o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,w){var c=new w([r.buffer,a.buffer,e]);t(null,c)}})}a(e,n,function(e,r){return t(new w(r))})},r.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var o=e,s=[],i=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],p="",h=1;255!=a[h];h++){if(p.length>310){i=!0;break}p+=a[h]}if(i)return n(b,0,1);o=u(o,2+p.length),p=parseInt(p);var f=u(o,0,p);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(l){var d=new Uint8Array(f);f="";for(var h=0;h<d.length;h++)f+=String.fromCharCode(d[h])}s.push(f),o=u(o,p)}var y=s.length;s.forEach(function(e,o){n(r.decodePacket(e,t,!0),o,y)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":21,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":22,utf8:30}],21:[function(e,t,r){t.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},{}],22:[function(e,t,r){(function(r){function n(e){function t(e){if(!e)return!1;if(r.Buffer&&r.Buffer.isBuffer(e)||r.ArrayBuffer&&e instanceof ArrayBuffer||r.Blob&&e instanceof Blob||r.File&&e instanceof File)return!0;if(o(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:25}],23:[function(e,t,r){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},{}],24:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],25:[function(e,t,r){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],26:[function(e,t,r){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*p;case"minutes":case"minute":case"mins":case"min":case"m":return r*c;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function o(e){return e>=u?Math.round(e/u)+"d":e>=p?Math.round(e/p)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return i(e,u,"day")||i(e,p,"hour")||i(e,c,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,c=60*a,p=60*c,u=24*p,h=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?s(e):o(e)}},{}],27:[function(e,t,r){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(i,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(s,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],28:[function(e,t,r){r.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},r.decode=function(e){for(var t={},r=e.split("&"),n=0,o=r.length;n<o;n++){var s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},{}],29:[function(e,t,r){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,r=e.indexOf("["),s=e.indexOf("]");r!=-1&&s!=-1&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));for(var i=n.exec(e||""),a={},c=14;c--;)a[o[c]]=i[c]||"";return r!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],30:[function(t,r,n){(function(t){!function(o){function s(e){for(var t,r,n=[],o=0,s=e.length;o<s;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<s?(r=e.charCodeAt(o++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--)):n.push(t);return n}function i(e){for(var t,r=e.length,n=-1,o="";++n<r;)t=e[n],t>65535&&(t-=65536,o+=w(t>>>10&1023|55296),t=56320|1023&t),o+=w(t);return o}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function c(e,t){return w(e>>t&63|128)}function p(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(a(e),t=w(e>>12&15|224),t+=c(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=c(e,12),t+=c(e,6)),t+=w(63&e|128)}function u(e){for(var t,r=s(e),n=r.length,o=-1,i="";++o<n;)t=r[o],i+=p(t);return i}function h(){if(b>=v)throw Error("Invalid byte index");var e=255&m[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(){var e,t,r,n,o;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(e=255&m[b],b++,0==(128&e))return e;if(192==(224&e)){var t=h();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=h(),r=h(),o=(15&e)<<12|t<<6|r,o>=2048)return a(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=h(),r=h(),n=h(),o=(15&e)<<18|t<<12|r<<6|n,o>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function l(e){m=s(e),v=m.length,b=0;for(var t,r=[];(t=f())!==!1;)r.push(t);return i(r)}var d="object"==typeof n&&n,y="object"==typeof r&&r&&r.exports==d&&r,g="object"==typeof t&&t;g.global!==g&&g.window!==g||(o=g);var m,v,b,w=String.fromCharCode,x={version:"2.0.0",encode:u,decode:l};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return x});else if(d&&!d.nodeType)if(y)y.exports=x;else{var k={},B=k.hasOwnProperty;for(var S in x)B.call(x,S)&&(d[S]=x[S])}else o.utf8=x}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],31:[function(e,t,r){"use strict";function n(e){var t="";do t=a[e%c]+t,e=Math.floor(e/c);while(e>0);return t}function o(e){var t=0;for(h=0;h<e.length;h++)t=t*c+p[e.charAt(h)];return t}function s(){var e=n(+new Date);return e!==i?(u=0,i=e):e+"."+n(u++)}for(var i,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,p={},u=0,h=0;h<c;h++)p[a[h]]=h;s.encode=n,s.decode=o,t.exports=s},{}]},{},[1])(1)});})();
(function(ns){var CLIENT_VERSION = "2.1.2";var NODE_CLIENT=0;ns.wrapper=function(good,wd){
var h,n=this;function p(a){return void 0!==a}function aa(a,b){var c=a.split("."),d=n;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&p(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}function ba(){}function ca(a){a.ub=function(){return a.od?a.od:a.od=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==da(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return r.apply(null,arguments)}var ka=Date.now||function(){return+new Date};
function la(a,b){function c(){}c.prototype=b.prototype;a.ff=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ze=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function ma(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ma);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}la(ma,Error);ma.prototype.name="CustomError";function na(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ka()).toString(36)};var oa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},qa=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},ra=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},sa=Array.prototype.reduce?function(a,b,c,d){d&&(b=r(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;pa(a,function(c,g){e=b.call(d,
e,c,g,a)});return e},ta=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function ua(a,b){var c=va(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function va(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function wa(a,b){var c=oa(a,b);0<=c&&Array.prototype.splice.call(a,c,1)}
function xa(a,b){a.sort(b||ya)}function ya(a,b){return a>b?1:a<b?-1:0};function za(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function t(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Aa(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function Ba(a){var b={};Aa(a,function(a,d){b[a]=d});return b};function Ca(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Da(){}
function Ea(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(ea(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),Ea(a,d[f],c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),Fa(d,c),c.push(":"),Ea(a,f,c),e=","));c.push("}");return}}switch(typeof b){case "string":Fa(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var Ga={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ha=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Fa(a,b){b.push('"',a.replace(Ha,function(a){var b=Ga[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Ga[a]=b);return b}),'"')};function Ia(a){var b=[];Aa(a,function(a,d){ea(d)?pa(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function Ja(a){var b={};a=a.replace(/^\?/,"").split("&");pa(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b}function Ka(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):Ca(a)}
function u(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ea(new Da,a,b);a=b.join("")}return a}var La={};function Ma(){this.tc=v}Ma.prototype.u=function(a){return this.tc.ia(a)};Ma.prototype.toString=function(){return this.tc.toString()};function x(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Na(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Oa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function Pa(a){var b=0,c;for(c in a)b++;return b}function Qa(a){for(var b in a)return b}function Ra(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Sa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ta(a,b){return null!==a&&b in a}
function Ua(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Va(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function Wa(a,b){var c=Va(a,b,void 0);return c&&a[c]}function Xa(a){for(var b in a)return!1;return!0}function Ya(a){var b={},c;for(c in a)b[c]=a[c];return b}var Za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function $a(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Za.length;f++)c=Za[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function ab(a){this.Mb=a;this.qc="wilddog:"}ab.prototype.set=function(a,b){null==b?this.Mb.removeItem(this.qc+a):this.Mb.setItem(this.qc+a,u(b))};ab.prototype.get=function(a){a=this.Mb.getItem(this.qc+a);return null==a?null:Ka(a)};ab.prototype.remove=function(a){this.Mb.removeItem(this.qc+a)};ab.prototype.toString=function(){return this.Mb.toString()};function bb(){this.Ib={}}bb.prototype.set=function(a,b){null==b?delete this.Ib[a]:this.Ib[a]=b};bb.prototype.get=function(a){return za(this.Ib,a)?this.Ib[a]:null};bb.prototype.remove=function(a){delete this.Ib[a]};function cb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("wilddog:sentinel","cache");b.removeItem("wilddog:sentinel");return new ab(b)}}catch(c){}return new bb}var db=cb("localStorage"),y=cb("sessionStorage");function eb(){this.g=-1};function fb(){this.g=-1;this.g=64;this.f=[];this.I=[];this.W=[];this.o=[];this.o[0]=128;for(var a=1;a<this.g;++a)this.o[a]=0;this.A=this.m=0;this.reset()}la(fb,eb);fb.prototype.reset=function(){this.f[0]=1732584193;this.f[1]=4023233417;this.f[2]=2562383102;this.f[3]=271733878;this.f[4]=3285377520;this.A=this.m=0};
function gb(a,b,c){c||(c=0);var d=a.W;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.f[0];c=a.f[1];for(var g=a.f[2],k=a.f[3],l=a.f[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),m=1518500249):(f=c^g^k,m=1859775393):60>e?(f=c&g|k&(c|g),m=2400959708):(f=c^g^k,m=3395469782),f=(b<<
5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.f[0]=a.f[0]+b&4294967295;a.f[1]=a.f[1]+c&4294967295;a.f[2]=a.f[2]+g&4294967295;a.f[3]=a.f[3]+k&4294967295;a.f[4]=a.f[4]+l&4294967295}
fb.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.g,d=0,e=this.I,f=this.m;d<b;){if(0==f)for(;d<=c;)gb(this,a,d),d+=this.g;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.g){gb(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.g){gb(this,e);f=0;break}}this.m=f;this.A+=b}};var hb;a:{var ib=n.navigator;if(ib){var jb=ib.userAgent;if(jb){hb=jb;break a}}hb=""};var kb=null,lb=null;function mb(a){var b="";nb(a,function(a){b+=String.fromCharCode(a)});return b}function nb(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=lb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}ob();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}}
function ob(){if(!kb){kb={};lb={};for(var a=0;65>a;a++)kb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),lb[kb[a]]=a,62<=a&&(lb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var pb=function(){var a=1;return function(){return a++}}();function z(a,b){if(!a)throw qb(b);}function qb(a){return Error("Wilddog ("+rb+") INTERNAL ASSERT FAILED: "+a)}function sb(a){try{return NODE_CLIENT?(new Buffer(a,"base64")).toString("utf8"):"undefined"!==typeof atob?atob(a):mb(a)}catch(b){tb("base64Decode failed: ",b)}return null}
function ub(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e=e-55296,d++,z(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}a=new fb;a.update(b);b=[];d=8*a.A;56>a.m?a.update(a.o,56-a.m):a.update(a.o,a.g-(a.m-56));for(c=a.g-1;56<=c;c--)a.I[c]=d&255,d/=256;gb(a,a.I);for(c=d=0;5>c;c++)for(e=
24;0<=e;e-=8)b[d]=a.f[c]>>e&255,++d;ob();a=kb;c=[];for(d=0;d<b.length;d+=3){var f=b[d],g=(e=d+1<b.length)?b[d+1]:0,k=d+2<b.length,l=k?b[d+2]:0,m=f>>2,f=(f&3)<<4|g>>4,g=(g&15)<<2|l>>6,l=l&63;k||(l=64,e||(g=64));c.push(a[m],a[f],a[g],a[l])}return c.join("")}
function vb(a){for(var b="",c=0;c<arguments.length;c++)var d=arguments[c],e=da(d),b="array"==e||"object"==e&&"number"==typeof d.length?b+vb.apply(null,arguments[c]):"object"===typeof arguments[c]?b+u(arguments[c]):b+arguments[c],b=b+" ";return b}var wb=null,xb=!0;function tb(a){!0===xb&&(xb=!1,null===wb&&!0===y.get("logging_enabled")&&yb(!0));if(wb){var b=vb.apply(null,arguments);wb(b)}}function zb(a){return function(){tb(a,arguments)}}
function Ab(a){if("undefined"!==typeof console){var b="WILDDOG INTERNAL ERROR: "+vb.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function Bb(a){var b=vb.apply(null,arguments);throw Error("WILDDOG FATAL ERROR: "+b);}function A(a){if("undefined"!==typeof console){var b="WILDDOG WARNING: "+vb.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function Cb(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(q(a)){var l=a.indexOf("//");0<=l&&(g=a.substring(0,l-1),a=a.substring(l+2));l=a.indexOf("/");-1===l&&(l=a.length);b=a.substring(0,l);e="";a=a.substring(l).split("/");for(l=0;l<a.length;l++)if(0<a[l].length){var m=a[l];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(w){}e+="/"+m}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);l=b.indexOf(":");0<=l&&(f="https"===g||"wss"===g,k=b.substring(l+1),isFinite(k)&&
(k=String(k)),k=q(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,Fe:d,jb:f,scheme:g,Ub:e}}function Db(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Eb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=Fb(a),d=Fb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}
function Gb(a){if("object"!==typeof a||null===a)return u(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=u(b[d]),c+=":",c+=Gb(a[b[d]]);return c+"}"}function Hb(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else x(a,b)}
function Ib(a){z(!Db(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Jb=/^-?\d{1,10}$/;function Fb(a){return Jb.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Kb(a){try{a()}catch(b){setTimeout(function(){A("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function B(a,b){if(ga(a)){var c=Array.prototype.slice.call(arguments,1).slice();Kb(function(){a.apply(null,c)})}};function Lb(a){z(ea(a)&&0<a.length,"Requires a non-empty array");this.I=a;this.g={}}Lb.prototype.m=function(a,b){for(var c=this.g[a]||[],d=0;d<c.length;d++)c[d].Kb.apply(c[d].context,Array.prototype.slice.call(arguments,1))};Lb.prototype.Wa=function(a,b,c){Mb(this,a);this.g[a]=this.g[a]||[];this.g[a].push({Kb:b,context:c});(a=this.o(a))&&b.apply(c,a)};Lb.prototype.gb=function(a,b,c){Mb(this,a);a=this.g[a]||[];for(var d=0;d<a.length;d++)if(a[d].Kb===b&&(!c||c===a[d].context)){a.splice(d,1);break}};
function Mb(a,b){z(ua(a.I,function(a){return a===b}),"Unknown event: "+b)};function Nb(a,b){Lb.call(this,["authStateChanged","authTokenExpired"]);this.A={Cd:!1};this.f={};Object.defineProperty(this,"name",{value:b,writable:!1});Object.defineProperty(this,"options",{value:a,writable:!1});var c=this;["auth","sync"].forEach(function(a){c[a]=function(){var b="__"+a,f=n.wilddog.__getService(a);if(!f)throw Error("Could not found module "+a);c[b]||(c[b]=f(this));return c[b]}})}la(Nb,Lb);
Nb.prototype.Wd=function(a,b){var c=!0,d;for(d in Ob)if(Ob.hasOwnProperty(d)&&Ob[d]===a){c=!1;break}if(c)throw Error("Unknown event "+a);this.f[a]=b;switch(a){case Ob.Qa:this.A.Cd=b&&b.Cd}this.m(a,b)};Nb.prototype.emit=Nb.prototype.Wd;Nb.prototype.bind=function(a,b){this.Wa(a,b)};Nb.prototype.bind=Nb.prototype.bind;Nb.prototype.He=function(a,b){this.gb(a,b)};Nb.prototype.unbind=Nb.prototype.He;Nb.prototype.o=function(a){switch(a){case Ob.Qa:return[this.f[Ob.Qa]]}return null};
var Ob={Qa:"authStateChanged",fd:"authTokenExpired"};function Pb(a){var b={},c={},d={},e="";try{var f=a.split("."),g=sb(f[0])||"",k=sb(f[1])||"",b=Ka(g),c=Ka(k),e=f[2],d=c.d||{};delete c.d}catch(l){console.warn("error",l)}return{af:b,Ec:c,data:d,cf:e}}function Qb(a){a=Pb(a).Ec;return"object"===typeof a&&a.hasOwnProperty("iat")?t(a,"iat"):null};var Rb="auth.wilddog.com";function Sb(a,b,c){this.g=["session",b.pc,b.Hb,a].join(":");this.f=c}Sb.prototype.set=function(a,b){if(!b)if(this.f.length)b=this.f[0];else throw Error("wd.auth.SessionManager : No storage options available!");b.set(this.g,a)};Sb.prototype.get=function(){var a=ra(this.f,r(this.m,this)),a=qa(a,function(a){return null!==a});xa(a,function(a,c){return Qb(c.idToken)-Qb(a.idToken)});return 0<a.length?a.shift():null};Sb.prototype.m=function(a){try{var b=a.get(this.g);if(b.idToken)return b;Tb(this)}catch(c){}return null};
function Tb(a){pa(a.f,function(b){b.remove(a.g)})};function Ub(a,b,c,d,e,f){this.uid=e;this.displayName=a;this.phone=f;this.email=b;this.photoURL=c;this.providerId=d};function Vb(a,b,c){this.da=c;this.m=a;this.o=b;this.g=0;this.f=null}Vb.prototype.get=function(){var a;0<this.g?(this.g--,a=this.f,this.f=a.next,a.next=null):a=this.m();return a};function Wb(a,b){a.o(b);a.g<a.da&&(a.g++,b.next=a.f,a.f=b)};function Xb(){this.g=this.f=null}var Zb=new Vb(function(){return new Yb},function(a){a.reset()},100);Xb.prototype.add=function(a,b){var c=Zb.get();c.set(a,b);this.g?this.g.next=c:this.f=c;this.g=c};Xb.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.g=null),a.next=null);return a};function Yb(){this.next=this.g=this.f=null}Yb.prototype.set=function(a,b){this.f=a;this.g=b;this.next=null};Yb.prototype.reset=function(){this.next=this.g=this.f=null};function $b(a){this.f=a}$b.prototype.toString=function(){return this.f};var ac=new $b("IFRAME"),bc=new $b("SCRIPT");function cc(a){n.setTimeout(function(){throw a;},0)}var dc;
function ec(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==hb.indexOf("Presto")&&(a=function(){var a=document.createElement(String(ac));a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==hb.indexOf("Trident")&&-1==hb.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.Ra;c.Ra=null;a()}};return function(a){d.next={Ra:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement(String(bc))?function(a){var b=
document.createElement(String(bc));b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function fc(a,b){gc||hc();ic||(gc(),ic=!0);jc.add(a,b)}var gc;function hc(){var a=n.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);gc=function(){b.then(kc)}}else gc=function(){var a=kc,b;!(b=!ga(n.setImmediate))&&(b=n.Window&&n.Window.prototype)&&(b=-1==hb.indexOf("Edge")&&n.Window.prototype.setImmediate==n.setImmediate);b?(dc||(dc=ec()),dc(a)):n.setImmediate(a)}}var ic=!1,jc=new Xb;
function kc(){for(var a=null;a=jc.remove();){try{a.f.call(a.g)}catch(b){cc(b)}Wb(Zb,a)}ic=!1};function lc(a,b){this.f=mc;this.W=void 0;this.o=this.g=this.m=null;this.A=this.I=!1;if(a!=ba)try{var c=this;a.call(b,function(a){nc(c,oc,a)},function(a){if(!(a instanceof pc))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}nc(c,qc,a)})}catch(d){nc(this,qc,d)}}var mc=0,oc=2,qc=3;function rc(){this.next=this.context=this.f=this.g=this.B=null;this.m=!1}rc.prototype.reset=function(){this.context=this.f=this.g=this.B=null;this.m=!1};
var sc=new Vb(function(){return new rc},function(a){a.reset()},100);function tc(a,b,c){var d=sc.get();d.g=a;d.f=b;d.context=c;return d}lc.prototype.then=function(a,b,c){return uc(this,ga(a)?a:null,ga(b)?b:null,c)};lc.prototype.then=lc.prototype.then;lc.prototype.$goog_Thenable=!0;h=lc.prototype;h.Ge=function(a,b){return uc(this,null,a,b)};h.cancel=function(a){this.f==mc&&fc(function(){var b=new pc(a);vc(this,b)},this)};
function vc(a,b){if(a.f==mc)if(a.m){var c=a.m;if(c.g){for(var d=0,e=null,f=null,g=c.g;g&&(g.m||(d++,g.B==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.f==mc&&1==d?vc(c,b):(f?(d=f,d.next==c.o&&(c.o=d),d.next=d.next.next):wc(c),xc(c,e,qc,b)))}a.m=null}else nc(a,qc,b)}function yc(a,b){a.g||a.f!=oc&&a.f!=qc||zc(a);a.o?a.o.next=b:a.g=b;a.o=b}
function uc(a,b,c,d){var e=tc(null,null,null);e.B=new lc(function(a,g){e.g=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.f=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof pc?g(b):a(e)}catch(m){g(m)}}:g});e.B.m=a;yc(a,e);return e.B}h.Ie=function(a){this.f=mc;nc(this,oc,a)};h.Je=function(a){this.f=mc;nc(this,qc,a)};
function nc(a,b,c){if(a.f==mc){a===c&&(b=qc,c=new TypeError("Promise cannot resolve to itself"));a.f=1;var d;a:{var e=c,f=a.Ie,g=a.Je;if(e instanceof lc)yc(e,tc(f||ba,g||null,a)),d=!0;else{var k;if(e)try{k=!!e.$goog_Thenable}catch(m){k=!1}else k=!1;if(k)e.then(f,g,a),d=!0;else{if(ha(e))try{var l=e.then;if(ga(l)){Ac(e,l,f,g,a);d=!0;break a}}catch(m){g.call(a,m);d=!0;break a}d=!1}}}d||(a.W=c,a.f=b,a.m=null,zc(a),b!=qc||c instanceof pc||Bc(a,c))}}
function Ac(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function g(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,g,f)}catch(l){f(l)}}function zc(a){a.I||(a.I=!0,fc(a.Yd,a))}function wc(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.o=null);return b}h.Yd=function(){for(var a=null;a=wc(this);)xc(this,a,this.f,this.W);this.I=!1};
function xc(a,b,c,d){if(c==qc&&b.f&&!b.m)for(;a&&a.A;a=a.m)a.A=!1;if(b.B)b.B.m=null,Cc(b,c,d);else try{b.m?b.g.call(b.context):Cc(b,c,d)}catch(e){Dc.call(null,e)}Wb(sc,b)}function Cc(a,b,c){b==oc?a.g.call(a.context,c):a.f&&a.f.call(a.context,c)}function Bc(a,b){a.A=!0;fc(function(){a.A&&Dc.call(null,b)})}var Dc=cc;function pc(a){ma.call(this,a)}la(pc,ma);pc.prototype.name="cancel";if("undefined"!=typeof Promise)var Ec=Promise;else"undefined"!=typeof n.Promise?Ec=n.Promise:Ec=lc;n.setTimeout||(n.setTimeout=function(){global.setTimeout.apply(global,arguments)});lc.prototype["catch"]=lc.prototype.Ge;function D(){var a=this;this.g=this.m=null;this.f=new Ec(function(b,c){a.m=b;a.g=c})}function E(a,b){return function(c,d){c?a.g(c):a.m(d);ga(b)&&(Fc(a.f),1===b.length?b(c):b(c,d))}}function Fc(a){a.then(void 0,ba)};function F(a,b,c,d,e){Ub.call(this,b.displayName,b.email,b.photoURL,b.providerId,b.uid,b.phone);this.isAnonymous="anonymous"===this.f;this.emailVerified=!0===c;this.phoneVerified=!0===d;this.providerData=e||[];this.refreshToken=null;Object.defineProperty(this,"__authManager",{value:a,writable:!1})}la(F,Ub);aa("wd.User",F);F.prototype["delete"]=function(a){var b=new D;Gc(this.__authManager,this.ta(),E(b,a));return b.f};F.prototype["delete"]=F.prototype["delete"];
F.prototype.ta=function(){return(this.__authManager.Ga||null).idToken};F.prototype.getToken=F.prototype.ta;F.prototype.Lc=function(){return this.phone};F.prototype.getPhone=F.prototype.Lc;
F.prototype.link=function(a,b){G("wilddog.User.link",1,2,arguments.length);Hc("wilddog.User.link",a);var c=a.provider,d=new D,e={};e.idToken=this.ta();"password"==c?(e.email=a.email,e.password=a.password,Ic(this.__authManager,e,E(d,b))):(e.providerId=a.provider,e.accessToken=a.accessToken,e.openId=a.openId||"",e.authType="link",Jc(this.__authManager,e,E(d,b)));return d.f};F.prototype.link=F.prototype.link;
F.prototype.Ke=function(a,b){G("wilddog.User.unlink",1,2,arguments.length);Kc("wilddog.User.unlink",1,a);var c=new D,d=this;Lc(this.__authManager,"unlink",{idToken:this.ta(),deleteProvider:[a]},E(c,function(c,f){f&&(d.providerData=d.providerData.filter(function(b){if(b.providerId!=a)return b}),0===d.providerData.length&&(Mc(d.__authManager,null),B(void 0,null)));b&&b(c,f)}));return c.f};F.prototype.unlink=F.prototype.Ke;
F.prototype.de=function(a,b){G("wilddog.auth().signInWithPopup",1,2,arguments.length);Hc("wilddog.auth().signInWithPopup",a);var c=new D;Nc(this.__authManager,a,{authType:"link",idToken:this.ta()},E(c,b));return c.f};F.prototype.linkWithPopup=F.prototype.de;F.prototype.ee=function(a,b){G("wilddog.auth().signInWithPopup",1,2,arguments.length);Hc("wilddog.auth().signInWithPopup",a);var c=new D;Oc(this.__authManager,a,{authType:"link",idToken:this.ta()},E(c,b));return c.f};
F.prototype.linkWithRedirect=F.prototype.ee;F.prototype.Oe=function(a,b){G("wilddog.User.updateProfile",1,2,arguments.length);Hc("wilddog.User.updateProfile",a);var c=new D;a.idToken=this.ta();Lc(this.__authManager,"profile",a,E(c,b));return c.f};F.prototype.updateProfile=F.prototype.Oe;F.prototype.Le=function(a,b){G("wilddog.User.updateEmail",1,2,arguments.length);Kc("wilddog.User.updateEmail",1,a);var c=new D;Ic(this.__authManager,{email:a,idToken:this.ta()},E(c,b));return c.f};
F.prototype.updateEmail=F.prototype.Le;F.prototype.Ne=function(a,b){G("wilddog.User.updatePhone",1,2,arguments.length);Kc("wilddog.User.updatePhone",1,a);var c=new D;Ic(this.__authManager,{phoneNumber:a,idToken:this.ta()},E(c,b));return c.f};F.prototype.updatePhone=F.prototype.Ne;F.prototype.Pe=function(a,b){G("wilddog.User.verifiyPhone",1,2,arguments.length);Kc("wilddog.User.verifiyPhone",1,a);var c=new D;Pc(this.__authManager,{phoneNumber:this.Lc(),smsCode:a},E(c,b));return c.f};
F.prototype.verifiyPhone=F.prototype.Pe;F.prototype.Me=function(a,b){G("wilddog.User.updatePassword",1,2,arguments.length);Kc("wilddog.User.updatePassword",1,a);var c=new D;Ic(this.__authManager,{password:a,idToken:this.ta()},E(c,b));return c.f};F.prototype.updatePassword=F.prototype.Me;
F.prototype.qe=function(a){G("wilddog.User.sendEmailVerification",0,1,arguments.length);H("wilddog.User.sendEmailVerification",1,a,!0);var b=new D;Qc(this.__authManager,{idToken:this.ta(),requestType:"VERIFY_EMAIL"},E(b,a));return b.f};F.prototype.sendEmailVerification=F.prototype.qe;
F.prototype.te=function(a){G("wilddog.User.sendPhoneVerification",0,1,arguments.length);H("wilddog.User.sendPhoneVerification",1,a,!0);var b=new D;Rc(this.__authManager,{phoneNumber:this.Lc(),type:"PHONE_VERIFY"},E(b,a));return b.f};F.prototype.sendPhoneVerification=F.prototype.te;F.prototype.reload=function(a){G("wilddog.User.reload",0,1,arguments.length);H("wilddog.User.reload",1,a,!0);var b=new D;Sc(this.__authManager,this.ta(),E(b,a));return b.f};F.prototype.reload=F.prototype.reload;
F.prototype.oe=function(a,b){G("wilddog.User.reload",1,2,arguments.length);H("wilddog.User.reload",2,b,!0);if(!a||!a.provider)throw Error("Unknown credential object.");var c=new D;Jc(this.__authManager,a,E(c,b));return c.f};F.prototype.reauthenticate=F.prototype.oe;function Tc(a){if(a&&a.users&&a.users[0])return a=a.users[0],new Ub(a.displayName,a.email,a.photoUrl,a.providerId,a.localId,a.phoneNumber);throw Error("Bad response format.");}function Uc(a,b){var c=Tc(b);if(!c)return null;var d=b.users[0],e=d.providerUserInfo.map(function(a){a.photoURL=a.photoUrl;delete a.photoUrl;return a});return new F(a,c,d.emailVerified,d.phoneVerified,e)};function G(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function Vc(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function H(a,b,c,d){if((!d||p(c))&&!ga(c))throw Error(Vc(a,b,d)+"must be a valid function.");}function Wc(a,b,c){if(p(c)&&(!ha(c)||null===c))throw Error(Vc(a,b,!0)+"must be a valid context object.");};function I(a,b){if(1==arguments.length){this.D=a.split("/");for(var c=0,d=0;d<this.D.length;d++)0<this.D[d].length&&(this.D[c]=this.D[d],c++);this.D.length=c;this.aa=0}else this.D=a,this.aa=b}function J(a,b){var c=K(a);if(null===c)return b;if(c===K(b))return J(L(a),L(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}function K(a){return a.aa>=a.D.length?null:a.D[a.aa]}function Xc(a){return a.D.length-a.aa}
function L(a){var b=a.aa;b<a.D.length&&b++;return new I(a.D,b)}function Yc(a){return a.aa<a.D.length?a.D[a.D.length-1]:null}h=I.prototype;h.toString=function(){for(var a="",b=this.aa;b<this.D.length;b++)""!==this.D[b]&&(a+="/"+this.D[b]);return a||"/"};h.slice=function(a){return this.D.slice(this.aa+(a||0))};h.parent=function(){if(this.aa>=this.D.length)return null;for(var a=[],b=this.aa;b<this.D.length-1;b++)a.push(this.D[b]);return new I(a,0)};
h.B=function(a){for(var b=[],c=this.aa;c<this.D.length;c++)b.push(this.D[c]);if(a instanceof I)for(c=a.aa;c<a.D.length;c++)b.push(a.D[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new I(b,0)};h.j=function(){return this.aa>=this.D.length};h.$=function(a){if(Xc(this)!==Xc(a))return!1;for(var b=this.aa,c=a.aa;b<=this.D.length;b++,c++)if(this.D[b]!==a.D[c])return!1;return!0};
h.contains=function(a){var b=this.aa,c=a.aa;if(Xc(this)>Xc(a))return!1;for(;b<this.D.length;){if(this.D[b]!==a.D[c])return!1;++b;++c}return!0};var M=new I("");function Zc(a,b){this.g=a.slice();this.f=Math.max(1,this.g.length);this.m=b;for(var c=0;c<this.g.length;c++)this.f+=$c(this.g[c]);ad(this)}Zc.prototype.push=function(a){0<this.g.length&&(this.f+=1);this.g.push(a);this.f+=$c(a);ad(this)};Zc.prototype.pop=function(){var a=this.g.pop();this.f-=$c(a);0<this.g.length&&--this.f};
function ad(a){if(768<a.f)throw Error(a.m+"has a key path longer than 768 bytes ("+a.f+").");if(32<a.g.length)throw Error(a.m+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bd(a));}function bd(a){return 0==a.g.length?"":"in property '"+a.g.join(".")+"'"};function $c(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};var cd=/[\[\].#$\/\u0000-\u001F\u007F]/,dd=/[\[\].#$\u0000-\u001F\u007F]/;function ed(a){return q(a)&&0!==a.length&&!cd.test(a)}function fd(a){return null===a||q(a)||fa(a)&&!Db(a)||ha(a)&&za(a,".sv")}function gd(a,b,c,d){d&&!p(b)||hd(Vc(a,1,d),b,c)}
function hd(a,b,c){c instanceof I&&(c=new Zc(c,a));if(!p(b))throw Error(a+"contains undefined "+bd(c));if(ga(b))throw Error(a+"contains a function "+bd(c)+" with contents: "+b.toString());if(Db(b))throw Error(a+"contains "+b.toString()+" "+bd(c));if(q(b)&&b.length>10485760/3&&10485760<$c(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+bd(c)+" ('"+b.substring(0,50)+"...')");if(ha(b)){var d=!1,e=!1;Aa(b,function(b,g){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!ed(b)))throw Error(a+" contains an invalid key ("+b+") "+bd(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);hd(a,g,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+bd(c)+" in addition to actual children.");}}
function id(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!ed(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(I.f);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}
function jd(a,b,c){var d=Vc(a,1,!1);if(!ha(b)||ea(b))throw Error(d+" must be an Object containing the children to replace.");if(za(b,".value"))throw Error(d+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');var e=[];Aa(b,function(a,b){var k=new I(a);hd(d,b,c.B(k));if(".priority"===Yc(k)&&!fd(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});
id(d,e)}function kd(a,b,c){if(Db(c))throw Error(Vc(a,b,!1)+"is "+c.toString()+", but must be a valid Wilddog priority (a string, finite number, server value, or null).");if(!fd(c))throw Error(Vc(a,b,!1)+"must be a valid Wilddog priority (a string, finite number, server value, or null).");}
function ld(a,b,c){if(!c||p(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(Vc(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function md(a,b,c,d){if((!d||p(c))&&!ed(c))throw Error(Vc(a,b,d)+'was an invalid key: "'+c+'".  Wilddog keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function nd(a,b){if(!q(b)||0===b.length||dd.test(b))throw Error(Vc(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function od(a,b){if(".info"===K(b))throw Error(a+" failed: Can't modify data under /.info/");}function Kc(a,b,c){if(!q(c))throw Error(Vc(a,b,!1)+"must be a valid string.");}function Hc(a,b){if(!ha(b)||null===b)throw Error(Vc(a,1,!1)+"must be a valid object.");};function pd(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function qd(){return"undefined"!==typeof location&&/^file:\//.test(location.href)}
function rd(){if("undefined"===typeof navigator)return!1;var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function sd(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function td(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function ud(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function vd(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function xd(a){var b="";try{a=a.replace("#","");var c=Ja(a);c&&za(c,"__wilddog_request_key")&&(b=t(c,"__wilddog_request_key"))}catch(d){}return b}function yd(){var a=Cb(Rb);return a.scheme+"://"+a.host+"/v2"}function zd(a){return yd()+"/"+a+"/auth/channel"};var Ad={NETWORK_ERROR:"Unable to contact the Wilddog server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function Bd(a){var b=Error(t(Ad,a),a);b.code=a;return b};function Cd(a){a.callback_parameter||(a.callback_parameter="callback");this.f=a;window.__wilddog_auth_jsonp=window.__wilddog_auth_jsonp||{}}
Cd.prototype.open=function(a,b,c){function d(){c&&(c(Bd("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__wilddog_auth_jsonp[f]=void 0;Xa(window.__wilddog_auth_jsonp)&&(window.__wilddog_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);ud(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.f.callback_parameter]="__wilddog_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+Ia(b);td(window,
"beforeunload",d);window.__wilddog_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Dd(f,a,c)};
function Dd(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(Bd("NETWORK_ERROR"))};var e,f=document.getElementsByTagName("head");f&&0!=f.length?e=f[0]:e=document.documentElement;e.appendChild(d)}catch(g){c&&c(Bd("NETWORK_ERROR"))}},0)}Cd.isAvailable=function(){return!NODE_CLIENT};Cd.prototype.Lb=function(){return"json"};function Ed(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers["Content-Type"]||(a.headers["Content-Type"]="application/json");a.headers["Content-Type"]=a.headers["Content-Type"].toLowerCase();this.f=a}
Ed.prototype.open=function(a,b,c){function d(){c&&(c(Bd("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.f.method.toUpperCase(),g;td(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=Ka(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(Bd("SERVER_ERROR")):c(Bd("NETWORK_ERROR"));c=null;ud(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+Ia(b),g=null;else{var k=this.f.headers["Content-Type"];
"application/json"===k&&(g=u(b));"application/x-www-form-urlencoded"===k&&(g=Ia(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};$a(a,this.f.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};Ed.isAvailable=function(){return!NODE_CLIENT&&!!window.XMLHttpRequest&&(!("undefined"!==typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)))||rd())};Ed.prototype.Lb=function(){return"json"};function Fd(a){if(!a.window_features||"undefined"!==typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))a.window_features=void 0;a.window_name||(a.window_name="_blank");this.f=a}
Fd.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);w&&(w=clearInterval(w));ud(window,"message",e);ud(window,"unload",d);if(m&&!a)try{m.close()}catch(b){k.postMessage("die",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=Ka(a.data);"ready"===b.a?k.postMessage(C,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=rd(),g,k;if(!this.f.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var l=vd(a);if(l!==vd(this.f.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.f.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+Ia(b);var m=window.open(a,this.f.window_name,this.f.window_features);k||(k=m);var w=setInterval(function(){m&&m.closed&&(d(!1),c&&(c(Bd("USER_CANCELLED")),
c=null))},500),C=u({a:"request",d:b});td(window,"unload",d);td(window,"message",e)}};
Fd.isAvailable=function(){return!NODE_CLIENT&&"postMessage"in window&&!qd()&&!(pd()||"undefined"!==typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!==typeof navigator&&"undefined"!==typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&
!("undefined"!==typeof navigator&&navigator.userAgent.match(/PhantomJS/))};Fd.prototype.Lb=function(){return"popup"};function Gd(a,b,c){this.ac=a||{};this.Wb=b||{};this.X=c||{};this.ac.remember||(this.ac.remember="default")}var Hd=["remember","redirectTo"];function Jd(a){var b={},c={};Aa(a||{},function(a,e){0<=oa(Hd,a)?b[a]=e:c[a]=e});return new Gd(b,{},c)};function Kd(a){this.f=na()+na()+na();this.g=a}
Kd.prototype.open=function(a,b,c){function d(){c&&(c(Bd("USER_CANCELLED")),c=null)}var e=this,f=Cb(Rb),g;b.requestId=this.f;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=Ia(b);(g=window.open(a,"_blank","location=no"))&&ga(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var m=document.createElement("a");m.href=a.url;b=m.host===f.host&&"/blank/page.html"===m.pathname;break a}catch(w){}b=!1}b&&(a=xd(a.url),g.removeEventListener("exit",
d),g.close(),a=new Gd(null,null,{requestId:e.f,requestKey:a}),e.g.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(Bd("TRANSPORT_UNAVAILABLE"))};Kd.isAvailable=function(){return!NODE_CLIENT&&pd()};Kd.prototype.Lb=function(){return"redirect"};function Ld(){this.f=na()+na()+na()}Ld.prototype.open=function(a,b){y.set("redirect_request_id",this.f);y.set("redirect_request_id",this.f);b.requestId=this.f;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+Ia(b);window.location=a};Ld.isAvailable=function(){return!NODE_CLIENT&&!qd()&&!pd()};Ld.prototype.Lb=function(){return"redirect"};function Md(a,b,c){this.o=a;this.ya=a.app;this.g=b;this.m=new Sb(this.ya.name,b,[db,y]);this.Ga=null;this.A=c;Nd(this)}function Nd(a){y.get("redirect_request_id")&&Od(a);var b=a.m.get();b&&b.idToken?Sc(a,b.idToken,function(c,d){if(!c&&d){var e={signIn:!0};e.currentUser=d;e.idToken=b.idToken;Mc(a,e);Pd(a,e,{})}else Mc(a,null)}):Mc(a,null)}function Qd(a,b,c,d){b&&b.idToken?Rd(a,b.idToken,c,d):(Mc(a,null),B(d,Error("No idToken found in response.")))}
function Rd(a,b,c,d){Sc(a,b,function(e,f){if(!e&&f){var g={signIn:!0};g.currentUser=f;g.idToken=b;Mc(a,g);Pd(a,g,c);B(d,e,f)}else Mc(a,null),B(d,e)})}
function Jc(a,b,c){Sd(a);var d=new Gd({},{},b||{}),e;e="POST";switch(b.providerId||b.provider){case "password":b="verifyPassword";break;case "anonymous":b="verifyAnonymous";break;case "custom":b="verifyCustomToken";break;default:b="credential",e="GET"}if(!b)throw Error("Unknown provider '"+provider+"'.");e={path:b,method:e};d.X._method=e.method;Td(a,[Ed,Cd],"/auth/"+e.path,d,c)}
function Nc(a,b,c,d){Sd(a);var e=[Fd,Kd];c=Jd(c);b.id?(c.X.providerId=b.id,c.X.scope=b.scope||"",c.X.appId=a.g.Hb,c.Wb.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.Wb.relay_url=zd(a.g.Hb),c.Wb.requestWithCredential=r(a.f,a),Td(a,e,"/auth/oauth",c,d)):setTimeout(function(){B(d,Bd("TRANSPORT_UNAVAILABLE_FOR_UNKNOWN_PROVIDER"))},
0)}function Oc(a,b,c,d){Sd(a);var e=[Ld];c=Jd(c);b.id?(c.X.providerId=b.id,c.X.scope=b.scope||"",c.X.appId=a.g.Hb,y.set("redirect_client_options",c.ac),Td(a,e,"/auth/oauth",c,d)):B(d,Bd("TRANSPORT_UNAVAILABLE"))}
function Od(a){var b=y.get("redirect_request_id");if(b){var c=y.get("redirect_client_options"),d=[Ed,Cd],b={requestId:b,requestKey:xd(document.location.hash)},c=new Gd(c,{},b);try{document.location.hash=document.location.hash.replace(/&__wilddog_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Td(a,d,"/auth/session",c,function(){y.remove("redirect_request_id");y.remove("redirect_client_options")}.bind(a))}}
function Ud(a,b,c){Sd(a);b=Jd(b);b.X._method="POST";a.f("/auth/signupNewUser",b,function(b,e){!b&&e&&e.idToken?Rd(a,e.idToken,null,c):B(c,b)})}function Lc(a,b,c,d){var e={idToken:c.idToken},f=c.photoURL||a.Ga.currentUser.photoURL,g=c.displayName||a.Ga.currentUser.displayName;switch(b){case "unlink":e.deleteProvider=c.deleteProvider;break;case "profile":e.photoUrl=f,e.displayName=g}Vd(a,e,function(b,c){b?B(d,b):(a.Ga.currentUser.displayName=g,a.Ga.currentUser.photoURL=f,Pd(a,a.Ga),B(d,b,c))})}
function Ic(a,b,c){Vd(a,b,function(b,e){b?B(c,b):Qd(a,e,{},c)})}function Vd(a,b,c){b=Jd(b);b.X._method="POST";b.X.idToken=a.Ga.idToken;a.f("/auth/setAccountInfo",b,function(a,b){a?B(c,a):B(c,a,b)})}function Sc(a,b,c){Sd(a);b=Jd({idToken:b});b.X._method="POST";a.f("/auth/getAccountInfo",b,function(b,e){b?B(c,b):B(c,b,Uc(a,e))})}function Gc(a,b,c){Sd(a);b=Jd({idToken:b});b.X._method="POST";a.f("/auth/deleteAccount",b,function(b,e){!b&&e&&"ok"==e.status&&a.Ga&&(Mc(a,null),B(void 0,null));B(c,b)})}
function Qc(a,b,c){Sd(a);b=Jd(b);b.X._method="POST";a.f("/auth/getOobConfirmationCode",b,function(a,b){B(c,a,b)})}Md.prototype.Hc=function(a,b){Sd(this);var c=Jd({email:a});c.X._method="POST";this.f("/auth/getProvider",c,function(a,c){a?B(b,a):B(b,a,c.allProviders||[])})};Md.prototype.f=function(a,b,c){Wd(this,[Ed,Cd],a,b,c)};function Td(a,b,c,d,e){Wd(a,b,c,d,function(b,c){!b&&c&&c.idToken?Qd(a,c,d.ac,function(a,b){a?B(e,a):B(e,null,b)}):B(e,b||Bd("UNKNOWN_ERROR"))})}
function Wd(a,b,c,d,e){b=qa(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){B(e,Bd("TRANSPORT_UNAVAILABLE"))},0):(b=b.shift(),d.Wb.method=d.X._method,b=new b(d.Wb),d=Ba(d.X),d.v=(NODE_CLIENT?"node-":"js-")+CLIENT_VERSION,d.transport=b.Lb(),d.suppress_status_codes=!0,a=yd()+"/"+a.g.Hb+c,b.open(a,d,function(a,b){if(a)B(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;B(e,c)}else B(e,null,b)}))}
function Pd(a,b,c){Tb(a.m);c=c||{};var d=db;"sessionOnly"===c.remember&&(d=y);"none"!==c.remember&&a.m.set(b,d)}function Mc(a,b){a.Ga=b;a.o.currentUser=b&&b.signIn?b.currentUser:null;a.A&&a.A(null!==b);b&&b.signIn||Tb(a.m);a.ya.emit(Ob.Qa,b||{signIn:!1})}function Sd(a){if(a.g.pd&&"auth.wilddog.com"===Rb)throw Error("This custom Wilddog server ('"+a.g.domain+"') does not support delegated login.");}
function Pc(a,b,c){b=Jd(b);b.X._method="POST";a.f("/auth/verifyPhone",b,function(b,e){!b&&e&&e.idToken?Rd(a,e.idToken,null,c):B(c,b);!b&&e&&"ok"==e.status&&a.o.currentUser&&(a.o.currentUser.phoneVerified=!0)})}function Xd(a,b,c){Sd(a);b=Jd(b);b.X._method="POST";a.f("/auth/resetPhonePassword",b,function(a,b){a?B(c,a):B(c,a,b)})}function Rc(a,b,c){Sd(a);b=Jd(b);b.X._method="POST";a.f("/auth/sendSmsCode",b,function(a,b){B(c,a,b)})};function Yd(){var a="undefined"!==typeof window?window:global;if(!a.wilddog){a.wilddog={};var b={};a.wilddog.initializeApp=function(b,d){var e=d||"DEFAULT";a.wilddog[e]=new Nb(b,e);return a.wilddog[e]};a.wilddog.__regService=function(a,d){b[a]=d};a.wilddog.__getService=function(a){return b[a]};["auth","sync"].forEach(function(b){a.wilddog[b]=function(){if(!a.wilddog.DEFAULT)throw Error("App has not been initialized.");return a.wilddog.DEFAULT[b]()}});n.wilddog=a.wilddog}return a.wilddog||n.wilddog}
;Yd().__regService("auth",function(a){return new N(a)});
function N(a){if(!a.options.authDomain)throw Error("Could not find 'authDomain' in options.");var b=this;this.g=function(a){var b=/^([a-zA-Z0-9\-_]+)\.([a-z]+)\.com/.exec(a.toLowerCase());if(!b)throw Error("Bad 'authDomain' format '"+a+"'.");return{Hb:b[1],ef:b[2],Ye:b[0],pc:"",pd:"wilddog"!==b[2]}}(a.options.authDomain);this.app=a;this.f=new Md(this,this.g);this.app.bind(Ob.fd,function(a){var d=b.f;a=a.reason;d.Ga=null;d.o.currentUser=null;d.ya.emit(Ob.Qa,{signIn:!1,reason:a});d.A&&d.A(!1);Tb(d.m)})}
N.prototype.ge=function(a){function b(b){var e;if(!(e=b&&b.signIn)){var f=c.f;e=y.get("redirect_request_id");f=f.m.get();e=!(e||f&&f.idToken)}e&&a(b&&b.signIn?b.currentUser:null)}var c=this;G("wilddog.auth().onAuthStateChanged",1,1,arguments.length);H("wilddog.auth().onAuthStateChanged",1,a,!1);this.app.bind(Ob.Qa,b);return function(){c.app.unbind(Ob.Qa,b)}};N.prototype.onAuthStateChanged=N.prototype.ge;
N.prototype.xe=function(a){G("wilddog.auth().signInAnonymously",0,1,arguments.length);H("wilddog.auth().signInAnonymously",1,a,!0);var b=new D;Ud(this.f,{},E(b,a));return b.f};N.prototype.signInAnonymously=N.prototype.xe;N.prototype.re=function(a,b){G("wilddog.auth().sendPasswordResetEmail",1,2,arguments.length);H("wilddog.auth().sendPasswordResetEmail",2,b,!0);var c=new D;Qc(this.f,{requestType:"RESET_PASSWORD",email:a},E(c,b));return c.f};N.prototype.sendPasswordResetEmail=N.prototype.re;
N.prototype.se=function(a,b){G("wilddog.auth().sendPasswordResetSms",1,2,arguments.length);H("wilddog.auth().sendPasswordResetSms",2,b,!0);var c=new D;Rc(this.f,{type:"PASSWORD_RESET",phoneNumber:a},E(c,b));return c.f};N.prototype.sendPasswordResetSms=N.prototype.se;
N.prototype.Sd=function(a,b,c,d){G("wilddog.auth().sendPasswordResetSms",3,4,arguments.length);H("wilddog.auth().sendPasswordResetSms",4,d,!0);Kc("wilddog.auth().sendPasswordResetSms",2,b);var e=new D;Xd(this.f,{phoneNumber:a,password:c,smsCode:b},E(e,d));return e.f};N.prototype.confirmPasswordResetSms=N.prototype.Sd;N.prototype.Hc=function(a,b){G("wilddog.auth().fetchProvidersForEmail",1,2,arguments.length);H("wilddog.auth().fetchProvidersForEmail",2,b,!0);var c=new D;this.f.Hc(a,E(c,b));return c.f};
N.prototype.fetchProvidersForEmail=N.prototype.Hc;N.prototype.ze=function(a,b){G("wilddog.auth().signInWithCustomToken",1,2,arguments.length);H("wilddog.auth().signInWithCustomToken",2,b,!0);var c=new D;Jc(this.f,{providerId:"custom",token:a},E(c,b));return c.f};N.prototype.signInWithCustomToken=N.prototype.ze;
N.prototype.Ae=function(a,b,c){G("wilddog.auth().signInWithEmailAndPassword",2,3,arguments.length);H("wilddog.auth().signInWithEmailAndPassword",3,c,!0);var d=new D;Jc(this.f,{providerId:"password",password:b,email:a},E(d,c));return d.f};N.prototype.signInWithEmailAndPassword=N.prototype.Ae;
N.prototype.Be=function(a,b,c){G("wilddog.auth().signInWithPhoneAndPassword",2,3,arguments.length);H("wilddog.auth().signInWithPhoneAndPassword",3,c,!0);var d=new D;Jc(this.f,{providerId:"password",password:b,phoneNumber:a},E(d,c));return d.f};N.prototype.signInWithPhoneAndPassword=N.prototype.Be;N.prototype.Ee=function(a){G("wilddog.auth().signOut",0,1,arguments.length);H("wilddog.auth().signOut",1,a,!0);var b=new D,c=E(b,a);Mc(this.f,null);B(c,null);return b.f};N.prototype.signOut=N.prototype.Ee;
N.prototype.Td=function(a,b,c){G("wilddog.auth().createUserWithEmailAndPassword",2,3,arguments.length);H("wilddog.auth().createUserWithEmailAndPassword",3,c,!0);var d=new D;Ud(this.f,{email:a,password:b},E(d,c));return d.f};N.prototype.createUserWithEmailAndPassword=N.prototype.Td;N.prototype.Ud=function(a,b,c){G("wilddog.auth().createUserWithPhoneAndPassword",2,3,arguments.length);H("wilddog.auth().createUserWithPhoneAndPassword",3,c,!0);var d=new D;Ud(this.f,{phoneNumber:a,password:b},E(d,c));return d.f};
N.prototype.createUserWithPhoneAndPassword=N.prototype.Ud;N.prototype.Ce=function(a,b){G("wilddog.auth().signInWithPopup",1,2,arguments.length);Hc("wilddog.auth().signInWithPopup",a);var c=new D;Nc(this.f,a,{authType:"login"},E(c,b));return c.f};N.prototype.signInWithPopup=N.prototype.Ce;N.prototype.De=function(a,b){G("wilddog.auth().signInWithRedirect",1,2,arguments.length);Hc("wilddog.auth().signInWithRedirect",a);var c=new D;Oc(this.f,a,{authType:"login"},E(c,b));return c.f};
N.prototype.signInWithRedirect=N.prototype.De;N.prototype.ye=function(a,b){G("wilddog.auth().signInWithCredential",1,2,arguments.length);Hc("wilddog.auth().signInWithCredential",a);var c={};"password"==a.provider?(c.providerId=a.provider,c.email=a.email,c.phoneNumber=a.phone,c.password=a.password):(c.providerId=a.provider,c.accessToken=a.accessToken,c.openId=a.openId||a.email);c.authType="login";var d=new D;Jc(this.f,c,E(d,b));return d.f};N.prototype.signInWithCredential=N.prototype.ye;function Zd(){this.f={}}Zd.prototype.get=function(){return Ya(this.f)};var $d={},ae=null;"undefined"!=typeof require&&"undefined"!==typeof module&&module.exports?ae=require("engine.io-client"):ae=eio;function be(a,b,c,d,e,f){this.id=a;this.m=zb("c:"+this.id+":");this.pa=c;this.I=d;this.A=e;this.W=f;this.f=b;this.o=0;this.m("Connection created");this.g=ce(this);this.g.on("open",de(this));this.g.on("error",ee(this))}function de(a){return function(){a.g.on("message",fe(a));a.g.on("close",ge(a))}}
function fe(a){return function(b){if(null==b)throw Error("data is null");if(0!=b.charAt(0))if(2==b.charAt(0)){var c=null;try{c=JSON.parse(b.substr(1))}catch(f){throw f;}if("object"!=typeof c||2>c.length)throw Error("decodedData in wrong format");b=c[1];if("wd"==c[0])if("c"==b.t)if(c=b.d,"h"==c.t){b=c.d;var c=b.ts,d=b.v,e=b.h;a.sessionId=b.s;"1.0"!=d&&A("Protocol version mismatch detected");0==a.o&&(e!=a.f.Aa?(he(a.f,e),a.m("updateHost ",e),a.g.close(),a.g=ce(a),a.g.on("open",de(a)),a.g.on("error",
ee(a))):(a.o=1,a.m("realtime state connected"),b=a.f,d=b.Sa.indexOf(a.f.Aa),0<=d&&(b.Sa.splice(d,1),y.set("failHosts",JSON.stringify(b.Sa))),a.I&&(a.I(c),a.I=null)))}else"r"==c.t?(c=c.d,a.m("Reset packet received.  New host: "+c),he(a.f,c),a.close()):"s"==c.t&&(a.W(c.d),a.close());else"d"==b.t&&a.pa(b.d);else a.m("eventType not known")}else 1!=b.charAt(0)&&a.m("data format error")}}function ge(a){return function(){2!==a.o&&(a.m("Closing realtime connection."),a.o=2,a.A&&(a.A(),a.A=null))}}
function ee(a){return function(b){if(0==a.o){var c=a.f.Aa,d=a.f;null!=c&&0>d.Sa.indexOf(c)&&c!=d.host&&(d.Sa.push(c),y.set("failHosts",JSON.stringify(d.Sa)));a.m("error while connecting",b,c);he(a.f)}a.close()}}
function ce(a){var b=(a.f.jb?"https://":"http://")+a.f.Aa+"?v=1.0&cv="+CLIENT_VERSION,c=a.f;c.host!==c.Aa&&(b=b+"&ns="+a.f.sd);a.sessionId&&(b=b+"&s="+a.sessionId);0<a.f.Sa.length&&(b=b+"&fst="+encodeURIComponent(a.f.Sa.join(",")));a={path:"/.ws",rememberUpgrade:!0};"undefined"==typeof document&&(a.jsonp=!1);return ae(b,a)}be.prototype.wa=function(a){a="2"+JSON.stringify(["wd",{t:"d",d:a}]);this.g.send(a)};
be.prototype.close=function(){2!==this.o&&(this.m("Closing realtime connection."),this.o=2,this.g.close(),this.A&&(this.A(),this.A=null))};function ie(){Lb.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.pa=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.pa&&(c.pa=b,c.m("visible",b))},!1)}}la(ie,Lb);ie.prototype.o=function(a){z("visible"===a,"Unknown event type: "+a);return[this.pa]};ca(ie);function je(){Lb.call(this,["online"]);this.f=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.f||(a.f=!0,a.m("online",!0))},!1);window.addEventListener("offline",function(){a.f&&(a.f=!1,a.m("online",!1))},!1)}}la(je,Lb);je.prototype.o=function(a){z("online"===a,"Unknown event type: "+a);return[this.f]};ca(je);function ke(a,b,c,d){this.id=le++;this.f=zb("p:"+this.id+":");this.$c=this.zc=!1;this.ea={};this.m=[];this.Ka=0;this.Fa=[];this.g=!1;this.I=1E3;this.nb=3E5;this.bd=b;this.ad=c;this.Od=d;this.cd=a;this.Vc=null;this.Yb={};this.Md=0;this.Ea=this.Ac=null;me(this,0);ie.ub().Wa("visible",this.ke,this);-1===a.host.indexOf("wd.local")&&je.ub().Wa("online",this.je,this)}var le=0,ne=0;h=ke.prototype;
h.wa=function(a,b,c){var d=++this.Md;a={r:d,a:a,b:b};this.f(u(a));z(this.g,"sendRequest call when we're not connected not allowed.");this.A.wa(a);c&&(this.Yb[d]=c)};h.qd=function(a,b,c,d){var e=a.ra(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.ea[f]=this.ea[f]||{};z(!this.ea[f][e],"listen() called twice for same path/queryId.");a={S:d,jc:b,me:a,tag:c};this.ea[f][e]=a;this.g&&oe(this,a)};
function oe(a,b){var c=b.me,d=c.path.toString(),e=c.ra();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=pe(c.F),f.t=b.tag);f.h=b.jc();a.wa("q",f,function(f){var k=f.d,l=f.s;if(k&&"object"===typeof k&&za(k,"w")){var m=t(k,"w");ea(m)&&0<=oa(m,"no_index")&&A("Using an unspecified index. Consider adding "+('".indexOn": "'+c.F.U().toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.ea[d]&&a.ea[d][e])===b&&(a.f("listen response",f),"ok"!==l&&qe(a,d,e),b.S&&
b.S(l,k))})}h.ed=function(a,b,c){this.o={Vd:a,kd:!1,Kb:b,$b:c};this.f("Authenticating using credential: "+a);re(this);40==a.length&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.nb=3E4)};h.Ed=function(a){delete this.o;this.g&&this.wa("unauth",{},function(b){a(b.s,b.d)})};function re(a){var b=a.o;a.g&&b&&a.wa("auth",{cred:b.Vd},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.o===b&&delete a.o;b.kd?"ok"!==d&&b.$b&&b.$b(d,c):(b.kd=!0,b.Kb&&b.Kb(d,c))})}
h.Fd=function(a,b){var c=a.path.toString(),d=a.ra();this.f("Unlisten called for "+c+" "+d);if(qe(this,c,d)&&this.g){var e=pe(a.F);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.wa("n",c)}};h.Rc=function(a,b,c){this.g?se(this,"o",a,b,c):this.Fa.push({Ub:a,action:"o",data:b,S:c})};h.td=function(a,b,c){this.g?se(this,"om",a,b,c):this.Fa.push({Ub:a,action:"om",data:b,S:c})};h.nc=function(a,b){this.g?se(this,"oc",a,null,b):this.Fa.push({Ub:a,action:"oc",data:null,S:b})};
function se(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.wa(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.Fb=function(a,b,c,d){te(this,"p",a,b,c,d)};h.rd=function(a,b,c,d){te(this,"m",a,b,c,d)};function te(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.m.push({action:b,request:d,S:e});a.Ka++;b=a.m.length-1;a.g?ue(a,b):a.f("Buffering put: "+c)}
function ue(a,b){var c=a.m[b].action,d=a.m[b].request,e=a.m[b].S;a.m[b].ne=a.g;a.wa(c,d,function(d){a.f(c+" response",d);delete a.m[b];a.Ka--;0===a.Ka&&(a.m=[]);e&&e(d.s,d.d)})}h.Sc=function(a){if(this.g){a={c:a};this.f("reportStats",a);var b=this;this.wa("s",a,function(a){"ok"!==a.s&&b.f("reportStats","Error sending stats: "+a.d)})}};
h.he=function(a){if("r"in a){this.f("from server: "+u(a));var b=a.r,c=this.Yb[b];c&&(delete this.Yb[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.bd(c.p,c.d,!1,c.t):"m"===b?this.bd(c.p,c.d,!0,c.t):"c"===b?ve(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.o,delete this.o,c&&c.$b&&c.$b(a,b)):"sd"===b?this.Vc?this.Vc(c):"msg"in c&&"undefined"!==typeof console&&console.log("WILDDOG: "+c.msg.replace("\n",
"\nWILDDOG: ")):Ab("Unrecognized action received from server: "+u(b)+"\nAre you using the latest client?"))}};h.Qe=function(a){this.f("connection ready");this.g=!0;this.Ea=(new Date).getTime();this.Od({serverTimeOffset:a-(new Date).getTime()});a={};a["sdk.js."+CLIENT_VERSION.replace(/\./g,"-")]=1;pd()&&(a["framework.cordova"]=1);this.Sc(a);we(this);this.ad(!0)};
function me(a,b){z(!a.A,"Scheduling a connect when we're already connected/ing?");a.W&&clearTimeout(a.W);a.W=setTimeout(function(){a.W=null;xe(a)},Math.floor(b))}h.ke=function(a){a&&!this.pa&&this.I===this.nb&&(this.f("Window became visible.  Reducing delay."),this.I=1E3,this.A||me(this,0));this.pa=a};h.je=function(a){a?(this.f("Browser went online."),this.I=1E3,this.A||me(this,0)):(this.f("Browser went offline.  Killing connection."),this.A&&this.A.close())};
h.ud=function(){this.f("data client disconnected");this.g=!1;this.A=null;for(var a=0;a<this.m.length;a++){var b=this.m[a];b&&"h"in b.request&&b.ne&&(b.S&&b.S("disconnect"),delete this.m[a],this.Ka--)}0===this.Ka&&(this.m=[]);this.Yb={};ye(this)&&(this.pa?this.Ea&&(3E4<(new Date).getTime()-this.Ea&&(this.I=1E3),this.Ea=null):(this.f("Window isn't visible.  Delaying reconnect."),this.I=this.nb,this.Ac=(new Date).getTime()),a=Math.max(0,this.I-((new Date).getTime()-this.Ac)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),me(this,a),this.I=Math.min(this.nb,1.3*this.I));this.ad(!1)};function xe(a){if(ye(a)){a.f("Making a connection attempt");a.Ac=(new Date).getTime();a.Ea=null;var b=r(a.he,a),c=r(a.Qe,a),d=r(a.ud,a),e=a.id+":"+ne++;a.A=new be(e,a.cd,b,c,d,function(b){A(b+" ("+a.cd.toString()+")");a.$c=!0})}}h.fb=function(){this.zc=!0;this.A?this.A.close():(this.W&&(clearTimeout(this.W),this.W=null),this.g&&this.ud())};h.Db=function(){this.zc=!1;this.I=1E3;this.A||me(this,0)};
function ve(a,b,c){c=c?ra(c,function(a){return Gb(a)}).join("$"):"default";(a=qe(a,b,c))&&a.S&&a.S("permission_denied")}function qe(a,b,c){b=(new I(b)).toString();var d;p(a.ea[b])?(d=a.ea[b][c],delete a.ea[b][c],0===Pa(a.ea[b])&&delete a.ea[b]):d=void 0;return d}function we(a){re(a);x(a.ea,function(b){x(b,function(b){oe(a,b)})});for(var b=0;b<a.m.length;b++)a.m[b]&&ue(a,b);for(;a.Fa.length;)b=a.Fa.shift(),se(a,b.action,b.Ub,b.data,b.S)}function ye(a){var b;b=je.ub().f;return!a.$c&&!a.zc&&b};function ze(){this.children={};this.Dc=0;this.value=null}function Ae(a,b,c){this.m=a?a:"";this.g=b?b:null;this.f=c?c:new ze}function Be(a,b){for(var c=b instanceof I?b:new I(b),d=a,e;null!==(e=K(c));)d=new Ae(e,d,t(d.f.children,e)||new ze),c=L(c);return d}h=Ae.prototype;h.ua=function(){return this.f.value};function Ce(a,b){z("undefined"!==typeof b,"Cannot set value to undefined");a.f.value=b;De(a)}h.ic=function(){return 0<this.f.Dc};h.j=function(){return null===this.ua()&&!this.ic()};
h.V=function(a){var b=this;x(this.f.children,function(c,d){a(new Ae(d,b,c))})};function Ee(a,b,c,d){c&&!d&&b(a);a.V(function(a){Ee(a,b,!0,d)});c&&d&&b(a)}function Fe(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new I(null===this.g?this.m:this.g.path()+"/"+this.m)};h.name=function(){return this.m};h.parent=function(){return this.g};
function De(a){if(null!==a.g){var b=a.g,c=a.m,d=a.j(),e=za(b.f.children,c);d&&e?(delete b.f.children[c],b.f.Dc--,De(b)):d||e||(b.f.children[c]=a.f,b.f.Dc++,De(b))}};function Ge(a,b){return Eb(a.name,b.name)}function He(a,b){return Eb(a,b)};function Ie(){}Ie.f;var Je={};function Ke(a){return r(a.compare,a)}Ie.prototype.kc=function(a,b){return 0!==this.compare(new P("[MIN_NAME]",a),new P("[MIN_NAME]",b))};Ie.prototype.Sb=function(){return Le};function Me(a){this.f=a}la(Me,Ie);h=Me.prototype;h.Ob=function(a){return!a.P(this.f).j()};h.compare=function(a,b){var c=a.node.P(this.f),d=b.node.P(this.f),c=c.qb(d);return 0===c?Eb(a.name,b.name):c};h.Pb=function(a,b){var c=Q(a),c=v.T(this.f,c);return new P(b,c)};
h.Qb=function(){var a=v.T(this.f,Ne);return new P("[MAX_NAME]",a)};h.toString=function(){return this.f};function Oe(){}la(Oe,Ie);h=Oe.prototype;h.compare=function(a,b){var c=a.node.J(),d=b.node.J(),c=c.qb(d);return 0===c?Eb(a.name,b.name):c};h.Ob=function(a){return!a.J().j()};h.kc=function(a,b){return!a.J().$(b.J())};h.Sb=function(){return Le};h.Qb=function(){return new P("[MAX_NAME]",new Pe("[PRIORITY-POST]",Ne))};h.Pb=function(a,b){var c=Q(a);return new P(b,new Pe("[PRIORITY-POST]",c))};
h.toString=function(){return".priority"};var R=new Oe;function Qe(){}la(Qe,Ie);h=Qe.prototype;h.compare=function(a,b){return Eb(a.name,b.name)};h.Ob=function(){throw qb("KeyIndex.isDefinedOn not expected to be called.");};h.kc=function(){return!1};h.Sb=function(){return Le};h.Qb=function(){return new P("[MAX_NAME]",v)};h.Pb=function(a){z(q(a),"KeyIndex indexValue must always be a string.");return new P(a,v)};h.toString=function(){return".key"};var Re=new Qe;function Se(){}la(Se,Ie);h=Se.prototype;
h.compare=function(a,b){var c=a.node.qb(b.node);return 0===c?Eb(a.name,b.name):c};h.Ob=function(){return!0};h.kc=function(a,b){return!a.$(b)};h.Sb=function(){return Le};h.Qb=function(){return Te};h.Pb=function(a,b){var c=Q(a);return new P(b,c)};h.toString=function(){return".value"};var Ue=new Se;function S(){}S.prototype.R;S.prototype.J;S.prototype.ba;S.prototype.P;S.prototype.ia;S.prototype.Mc;S.prototype.T;S.prototype.M;S.prototype.va;S.prototype.j;S.prototype.Va;S.prototype.N;S.prototype.hash;S.prototype.qb;S.prototype.$;S.prototype.Oa;S.prototype.Bb;function P(a,b){this.name=a;this.node=b}function Ve(a,b){return new P(a,b)};function We(){this.set={}}h=We.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return za(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.j=function(){return Xa(this.set)};h.count=function(){return Pa(this.set)};function Xe(a,b){x(a.set,function(a,d){b(d,a)})};function Ye(){this.C=this.K=null}Ye.prototype.find=function(a){if(null!=this.K)return this.K.ia(a);if(a.j()||null==this.C)return null;var b=K(a);a=L(a);return this.C.contains(b)?this.C.get(b).find(a):null};function Ze(a,b,c){if(b.j())a.K=c,a.C=null;else if(null!==a.K)a.K=a.K.M(b,c);else{null==a.C&&(a.C=new We);var d=K(b);a.C.contains(d)||a.C.add(d,new Ye);a=a.C.get(d);b=L(b);Ze(a,b,c)}}
function $e(a,b){if(b.j())return a.K=null,a.C=null,!0;if(null!==a.K){if(a.K.R())return!1;var c=a.K;a.K=null;c.V(R,function(b,c){Ze(a,new I(b),c)});return $e(a,b)}return null!==a.C?(c=K(b),b=L(b),a.C.contains(c)&&$e(a.C.get(c),b)&&a.C.remove(c),a.C.j()?(a.C=null,!0):!1):!0}function af(a,b,c){null!==a.K?c(b,a.K):a.V(function(a,e){var f=new I(b.toString()+"/"+a);af(e,f,c)})}Ye.prototype.V=function(a){null!==this.C&&Xe(this.C,function(b,c){a(b,c)})};function bf(a,b){this.Dd={};this.Ea=new cf(a);this.g=b;var c=1E4+2E4*Math.random();setTimeout(r(this.f,this),Math.floor(c))}bf.prototype.f=function(){var a=this.Ea.get(),b={},c=!1,d;for(d in a)0<a[d]&&za(this.Dd,d)&&(b[d]=a[d],c=!0);c&&this.g.Sc(b);setTimeout(r(this.f,this),Math.floor(6E5*Math.random()))};function cf(a){this.g=a;this.f=null}cf.prototype.get=function(){var a=this.g.get(),b=Ya(a);if(this.f)for(var c in this.f)b[c]-=this.f[c];this.f=a;return b};var df={},ef={};function ff(a){a=a.toString();df[a]||(df[a]=new Zd);return df[a]}function gf(a,b){var c=a.toString();ef[c]||(ef[c]=b());return ef[c]};function hf(a,b){return a&&"object"===typeof a?(z(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function jf(a,b){var c=new Ye;af(a,new I(""),function(a,e){Ze(c,a,kf(e,b))});return c}function kf(a,b){var c=a.J().N(),c=hf(c,b),d;if(a.R()){var e=hf(a.ua(),b);return e!==a.ua()||c!==a.J().N()?new Pe(e,Q(c)):a}d=a;c!==a.J().N()&&(d=d.ba(new Pe(c)));a.V(R,function(a,c){var e=kf(c,b);e!==c&&(d=d.T(a,e))});return d};function lf(a,b){this.f=zb("p:rest:");this.g=a;this.m=b;this.o=null;this.ea={}}function mf(a,b){if(p(b))return"tag$"+b;var c=a.F;z(nf(c)&&c.w==R,"should have a tag if it's not a default query.");return a.path.toString()}h=lf.prototype;
h.qd=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.ra());var f=mf(a,c),g={};this.ea[f]=g;a=of(a.F);var k=this;pf(this,e+".json",a,function(a,b){var w=b;404===a&&(a=w=null);null===a&&k.m(e,w,!1,c);t(k.ea,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};h.Fd=function(a,b){var c=mf(a,b);delete this.ea[c]};h.ed=function(a,b){this.o=a;var c=Pb(a),d=c.data,c=c.Ec&&c.Ec.exp;b&&b("ok",{auth:d,expires:c})};h.Ed=function(a){this.o=null;a("ok",null)};
h.Rc=function(){};h.td=function(){};h.nc=function(){};h.Fb=function(){};h.rd=function(){};h.Sc=function(){};
function pf(a,b,c,d){c=c||{};c.format="export";a.o&&(c.auth=a.o);var e=(a.g.jb?"https://":"http://")+a.g.host+b+"?"+Ia(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=Ka(f.responseText)}catch(c){A("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==f.status&&
A("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function qf(){this.f=[]}function rf(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.bb();null===c||f.$(c.bb())||(a.f.push(c),c=null);null===c&&(c=new sf(f));c.add(e)}c&&a.f.push(c)}function tf(a,b,c){rf(a,c);uf(a,function(a){return a.$(b)})}function vf(a,b,c){rf(a,c);uf(a,function(a){return a.contains(b)||b.contains(a)})}
function uf(a,b){for(var c=!0,d=0;d<a.f.length;d++){var e=a.f[d];if(e)if(e=e.bb(),b(e)){for(var e=a.f[d],f=0;f<e.gc.length;f++){var g=e.gc[f];if(null!==g){e.gc[f]=null;var k=g.Ua();wb&&tb("event: "+g.toString());Kb(k)}}a.f[d]=null}else c=!1}c&&(a.f=[])}function sf(a){this.na=a;this.gc=[]}sf.prototype.add=function(a){this.gc.push(a)};sf.prototype.bb=function(){return this.na};function wf(a,b){this.type=xf;this.source=yf;this.path=a;this.Uc=b}wf.prototype.Tb=function(){return this.path.j()?this:new wf(L(this.path),this.Uc)};wf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Uc+")"};function zf(a,b,c){this.type=Af;this.source=a;this.path=b;this.children=c}zf.prototype.Tb=function(a){if(this.path.j())return a=this.children.subtree(new I(a)),a.j()?null:a.value?new Bf(this.source,M,a.value):new zf(this.source,M,a);z(K(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new zf(this.source,L(this.path),this.children)};zf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function Cf(a,b){this.type=Df;this.source=a;this.path=b}Cf.prototype.Tb=function(){return this.path.j()?new Cf(this.source,M):new Cf(this.source,L(this.path))};Cf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function Bf(a,b,c){this.type=Ef;this.source=a;this.path=b;this.Ba=c}Bf.prototype.Tb=function(a){return this.path.j()?new Bf(this.source,M,this.Ba.P(a)):new Bf(this.source,L(this.path),this.Ba)};Bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ba.toString()+")"};var Ef=0,Af=1,xf=2,Df=3;function Ff(){}Ff.prototype.source;Ff.prototype.type;Ff.prototype.path;function Gf(a,b,c,d){this.Jc=a;this.ld=b;this.hb=c;this.Zc=d;z(!d||b,"Tagged queries must be from server.")}var yf=new Gf(!0,!1,null,!1),Hf=new Gf(!1,!0,null,!1);Gf.prototype.toString=function(){return this.Jc?"user":this.Zc?"server(queryID="+this.hb+")":"server"};function T(a,b,c,d){this.type=a;this.Ca=b;this.Na=c;this.Qc=d;this.rc=void 0}function If(a){return new T(Jf,a)}var Jf="value";function Kf(){}Kf.prototype.bb;Kf.prototype.hc;Kf.prototype.Ua;Kf.prototype.toString;function Lf(a,b,c,d){this.Gc=b;this.uc=c;this.rc=d;this.fc=a}Lf.prototype.bb=function(){var a=this.uc.ib();return"value"===this.fc?a.path:a.parent().path};Lf.prototype.hc=function(){return this.fc};Lf.prototype.Ua=function(){return this.Gc.Ua(this)};Lf.prototype.toString=function(){return this.bb().toString()+":"+this.fc+":"+u(this.uc.jd())};function Mf(a,b,c){this.Gc=a;this.error=b;this.path=c}Mf.prototype.bb=function(){return this.path};
Mf.prototype.hc=function(){return"cancel"};Mf.prototype.Ua=function(){return this.Gc.Ua(this)};Mf.prototype.toString=function(){return this.path.toString()+":cancel"};function Nf(){}Nf.prototype.Tc;Nf.prototype.createEvent;Nf.prototype.Ua;Nf.prototype.Fc;Nf.prototype.matches;Nf.prototype.Nc;function Of(a,b,c){this.pb=a;this.$a=b;this.ab=c||null}h=Of.prototype;h.Tc=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.F.U();return new Lf("value",this,new U(a.Ca,b.ib(),c))};
h.Ua=function(a){var b=this.ab;if("cancel"===a.hc()){z(this.$a,"Raising a cancel event on a listener with no cancel callback");var c=this.$a;return function(){c.call(b,a.error)}}var d=this.pb;return function(){d.call(b,a.uc)}};h.Fc=function(a,b){return this.$a?new Mf(this,a,b):null};h.matches=function(a){return a instanceof Of?a.pb&&this.pb?a.pb===this.pb&&a.ab===this.ab:!0:!1};h.Nc=function(){return null!==this.pb};function Pf(a,b,c){this.ha=a;this.$a=b;this.ab=c}h=Pf.prototype;
h.Tc=function(a){a="children_added"===a?"child_added":a;return Ta(this.ha,"children_removed"===a?"child_removed":a)};h.Fc=function(a,b){return this.$a?new Mf(this,a,b):null};h.createEvent=function(a,b){z(null!=a.Na,"Child events should have a childName.");var c=b.ib().B(a.Na);return new Lf(a.type,this,new U(a.Ca,c,b.F.U()),a.rc)};
h.Ua=function(a){var b=this.ab;if("cancel"===a.hc()){z(this.$a,"Raising a cancel event on a listener with no cancel callback");var c=this.$a;return function(){c.call(b,a.error)}}var d=this.ha[a.fc];return function(){d.call(b,a.uc,a.rc)}};
h.matches=function(a){if(a instanceof Pf){if(!this.ha||!a.ha)return!0;if(this.ab===a.ab){var b=Pa(a.ha);if(b===Pa(this.ha)){if(1===b){var b=Qa(a.ha),c=Qa(this.ha);return c===b&&(!a.ha[b]||!this.ha[c]||a.ha[b]===this.ha[c])}return Oa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1};h.Nc=function(){return null!==this.ha};function Qf(a){this.g=a;this.w=a.F.U()}function Rf(a,b,c,d){var e=[],f=[];pa(b,function(b){"child_changed"===b.type&&a.w.kc(b.Qc,b.Ca)&&f.push(new T("child_moved",b.Ca,b.Na))});Sf(a,e,"child_removed",b,d,c);Sf(a,e,"child_added",b,d,c);Sf(a,e,"child_moved",f,d,c);Sf(a,e,"child_changed",b,d,c);Sf(a,e,Jf,b,d,c);return e}function Sf(a,b,c,d,e,f){d=qa(d,function(a){return a.type===c});xa(d,r(a.f,a));pa(d,function(c){var d=Tf(a,c,f);pa(e,function(e){e.Tc(c.type)&&b.push(e.createEvent(d,a.g))})})}
function Tf(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.rc=c.Mc(b.Na,b.Ca,a.w));return b}Qf.prototype.f=function(a,b){if(null==a.Na||null==b.Na)throw qb("Should only compare child_ events.");return this.w.compare(new P(a.Na,a.Ca),new P(b.Na,b.Ca))};function Uf(){}Uf.prototype.md=function(){return null};Uf.prototype.Kc=function(){return null};var Vf=new Uf;function Wf(a,b,c){this.Id=a;this.Da=b;this.oc=c}Wf.prototype.md=function(a){var b=this.Da.L;if(Xf(b,a))return b.u().P(a);b=null!=this.oc?new Yf(this.oc,!0,!1):this.Da.G();return this.Id.Ma(a,b)};Wf.prototype.Kc=function(a,b,c){var d=null!=this.oc?this.oc:Zf(this.Da);a=this.Id.Cc(d,b,1,c,a);return 0===a.length?null:a[0]};function $f(a,b){this.xc=a;this.Rd=b}function ag(a){this.O=a}
ag.prototype.Pa=function(a,b,c,d){var e=new bg,f;if(b.type===Ef)b.source.Jc?c=cg(this,a,b.path,b.Ba,c,d,e):(z(b.source.ld,"Unknown source."),f=b.source.Zc,c=dg(this,a,b.path,b.Ba,c,d,f,e));else if(b.type===Af)b.source.Jc?c=eg(this,a,b.path,b.children,c,d,e):(z(b.source.ld,"Unknown source."),f=b.source.Zc,c=fg(this,a,b.path,b.children,c,d,f,e));else if(b.type===xf)if(b.Uc)if(f=b.path,null!=c.Eb(f))c=a;else{b=new Wf(c,a,d);d=a.L.u();if(f.j()||".priority"===K(f))gg(a.G())?b=c.qa(Zf(a)):(b=a.G().u(),
z(b instanceof hg,"serverChildren would be complete if leaf node"),b=c.Jb(b)),b=this.O.oa(d,b,e);else{f=K(f);var g=c.Ma(f,a.G());null==g&&Xf(a.G(),f)&&(g=d.P(f));b=null!=g?this.O.M(d,f,g,b,e):a.L.u().va(f)?this.O.M(d,f,v,b,e):d;b.j()&&gg(a.G())&&(d=c.qa(Zf(a)),d.R()&&(b=this.O.oa(b,d,e)))}d=gg(a.G())||null!=c.Eb(M);c=ig(a,b,d,this.O.za())}else c=jg(this,a,b.path,c,d,e);else if(b.type===Df)d=b.path,b=a.G(),f=b.u(),g=b.ca||d.j(),c=kg(this,new lg(a.L,new Yf(f,g,b.sb)),d,c,Vf,e);else throw qb("Unknown operation type: "+
b.type);e=Ra(e.f);d=c;b=d.L;b.ca&&(f=b.u().R()||b.u().j(),g=mg(a),(0<e.length||!a.L.ca||f&&!b.u().$(g)||!b.u().J().$(g.J()))&&e.push(If(mg(d))));return new $f(c,e)};
function kg(a,b,c,d,e,f){var g=b.L;if(null!=d.Eb(c))return b;var k;if(c.j())z(gg(b.G()),"If change path is empty, we must have complete server data"),b.G().sb?(e=Zf(b),d=d.Jb(e instanceof hg?e:v)):d=d.qa(Zf(b)),f=a.O.oa(b.L.u(),d,f);else{var l=K(c);if(".priority"==l)z(1==Xc(c),"Can't have a priority with additional path components"),f=g.u(),k=b.G().u(),d=d.Zb(c,f,k),f=null!=d?a.O.ba(f,d):g.u();else{var m=L(c);Xf(g,l)?(k=b.G().u(),d=d.Zb(c,g.u(),k),d=null!=d?g.u().P(l).M(m,d):g.u().P(l)):d=d.Ma(l,
b.G());f=null!=d?a.O.M(g.u(),l,d,e,f):g.u()}}return ig(b,f,g.ca||c.j(),a.O.za())}function dg(a,b,c,d,e,f,g,k){var l=b.G();g=g?a.O:a.O.tb();if(c.j())d=g.oa(l.u(),d,null);else if(g.za()&&!l.sb)d=l.u().M(c,d),d=g.oa(l.u(),d,null);else{var m=K(c);if((c.j()?!l.ca||l.sb:!Xf(l,K(c)))&&1<Xc(c))return b;d=l.u().P(m).M(L(c),d);d=".priority"==m?g.ba(l.u(),d):g.M(l.u(),m,d,Vf,null)}l=l.ca||c.j();b=new lg(b.L,new Yf(d,l,g.za()));return kg(a,b,c,e,new Wf(e,b,f),k)}
function cg(a,b,c,d,e,f,g){var k=b.L;e=new Wf(e,b,f);if(c.j())d=a.O.oa(b.L.u(),d,g),a=ig(b,d,!0,a.O.za());else if(f=K(c),".priority"===f)d=a.O.ba(b.L.u(),d),a=ig(b,d,k.ca,k.sb);else{c=L(c);var l=k.u().P(f),m;if(c.j())m=d;else{var w=e.md(f);null!=w?m=".priority"===Yc(c)&&w.ia(c.parent()).j()?w:w.M(c,d):m=v}l.$(m)?a=b:(d=a.O.M(k.u(),f,m,e,g),a=ig(b,d,k.ca,a.O.za()))}return a}
function eg(a,b,c,d,e,f,g){var k=b;ng(d,function(d,m){var w=c.B(d);Xf(b.L,K(w))&&(k=cg(a,k,w,m,e,f,g))});ng(d,function(d,m){var w=c.B(d);Xf(b.L,K(w))||(k=cg(a,k,w,m,e,f,g))});return k}function og(a,b){ng(b,function(b,d){a=a.M(b,d)});return a}
function fg(a,b,c,d,e,f,g,k){if(b.G().u().j()&&!gg(b.G()))return b;var l=b;c=c.j()?d:pg(qg,c,d);var m=b.G().u();c.children.ja(function(c,d){if(m.va(c)){var O=b.G().u().P(c),O=og(O,d);l=dg(a,l,new I(c),O,e,f,g,k)}});c.children.ja(function(c,d){var O=!gg(b.G())&&null==d.value;m.va(c)||O||(O=b.G().u().P(c),O=og(O,d),l=dg(a,l,new I(c),O,e,f,g,k))});return l}
function jg(a,b,c,d,e,f){if(null!=d.Eb(c))return b;var g=new Wf(d,b,e),k=e=b.L.u();if(gg(b.G())){if(c.j())e=d.qa(Zf(b)),k=a.O.oa(b.L.u(),e,f);else if(".priority"===K(c)){var l=d.Ma(K(c),b.G());null==l||e.j()||e.J().$(l)||(k=a.O.ba(e,l))}else l=K(c),e=d.Ma(l,b.G()),null!=e&&(k=a.O.M(b.L.u(),l,e,g,f));e=!0}else if(b.L.ca||c.j())k=e,e=b.L.u(),e.R()||e.V(R,function(c){var e=d.Ma(c,b.G());null!=e&&(k=a.O.M(k,c,e,g,f))}),e=b.L.ca;else{l=K(c);if(1==Xc(c)||Xf(b.L,l))c=d.Ma(l,b.G()),null!=c&&(k=a.O.M(e,l,
c,g,f));e=!1}return ig(b,k,e,a.O.za())};function Yf(a,b,c){this.f=a;this.ca=b;this.sb=c}function gg(a){return a.ca}function Xf(a,b){return a.ca&&!a.sb||a.f.va(b)}Yf.prototype.u=function(){return this.f};({}).Se;function rg(a,b){this.g=a;this.f=b?b:sg}h=rg.prototype;h.Ha=function(a,b){return new rg(this.g,this.f.Ha(a,b,this.g).Z(null,null,tg,null,null))};h.remove=function(a){return new rg(this.g,this.f.remove(a,this.g).Z(null,null,tg,null,null))};h.get=function(a){for(var b,c=this.f;!c.j();){b=this.g(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function ug(a,b){for(var c,d=a.f,e=null;!d.j();){c=a.g(b,d.key);if(0===c){if(d.left.j())return e?e.key:null;for(d=d.left;!d.right.j();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.j=function(){return this.f.j()};h.count=function(){return this.f.count()};h.Rb=function(){return this.f.Rb()};h.Cb=function(){return this.f.Cb()};h.ja=function(a){return this.f.ja(a)};
h.vb=function(a){return new vg(this.f,null,this.g,!1,a)};h.wb=function(a,b){return new vg(this.f,a,this.g,!1,b)};h.xb=function(a,b){return new vg(this.f,a,this.g,!0,b)};h.nd=function(a){return new vg(this.f,null,this.g,!0,a)};function vg(a,b,c,d,e){this.f=e||null;this.g=d;this.Ia=[];for(e=1;!a.j();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.g?a.left:a.right;else if(0===e){this.Ia.push(a);break}else this.Ia.push(a),a=this.g?a.right:a.left}
function wg(a){if(0===a.Ia.length)return null;var b=a.Ia.pop(),c;a.f?c=a.f(b.key,b.value):c={key:b.key,value:b.value};if(a.g)for(b=b.left;!b.j();)a.Ia.push(b),b=b.right;else for(b=b.right;!b.j();)a.Ia.push(b),b=b.left;return c}function xg(a){if(0===a.Ia.length)return null;var b;b=a.Ia;b=b[b.length-1];return a.f?a.f(b.key,b.value):{key:b.key,value:b.value}}function yg(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:zg;this.left=null!=d?d:sg;this.right=null!=e?e:sg}var zg=!0,tg=!1;h=yg.prototype;
h.Z=function(a,b,c,d,e){return new yg(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.j=function(){return!1};h.ja=function(a){return this.left.ja(a)||a(this.key,this.value)||this.right.ja(a)};function Ag(a){return a.left.j()?a:Ag(a.left)}h.Rb=function(){return Ag(this).key};h.Cb=function(){return this.right.j()?this.key:this.right.Cb()};
h.Ha=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.Z(null,null,null,e.left.Ha(a,b,c),null):0===d?e.Z(null,b,null,null,null):e.Z(null,null,null,null,e.right.Ha(a,b,c));return Bg(e)};function Cg(a){if(a.left.j())return sg;a.left.ga()||a.left.left.ga()||(a=Dg(a));a=a.Z(null,null,null,Cg(a.left),null);return Bg(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.j()||c.left.ga()||c.left.left.ga()||(c=Dg(c)),c=c.Z(null,null,null,c.left.remove(a,b),null);else{c.left.ga()&&(c=Eg(c));c.right.j()||c.right.ga()||c.right.left.ga()||(c=Fg(c),c.left.left.ga()&&(c=Eg(c),c=Fg(c)));if(0===b(a,c.key)){if(c.right.j())return sg;d=Ag(c.right);c=c.Z(d.key,d.value,null,null,Cg(c.right))}c=c.Z(null,null,null,null,c.right.remove(a,b))}return Bg(c)};h.ga=function(){return this.color};
function Bg(a){a.right.ga()&&!a.left.ga()&&(a=Gg(a));a.left.ga()&&a.left.left.ga()&&(a=Eg(a));a.left.ga()&&a.right.ga()&&(a=Fg(a));return a}function Dg(a){a=Fg(a);a.right.left.ga()&&(a=a.Z(null,null,null,null,Eg(a.right)),a=Gg(a),a=Fg(a));return a}function Gg(a){return a.right.Z(null,null,a.color,a.Z(null,null,zg,null,a.right.left),null)}function Eg(a){return a.left.Z(null,null,a.color,null,a.Z(null,null,zg,a.left.right,null))}
function Fg(a){return a.Z(null,null,!a.color,a.left.Z(null,null,!a.left.color,null,null),a.right.Z(null,null,!a.right.color,null,null))}function Hg(){}h=Hg.prototype;h.Z=function(){return this};h.Ha=function(a,b){return new yg(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.j=function(){return!0};h.ja=function(){return!1};h.Rb=function(){return null};h.Cb=function(){return null};h.ga=function(){return!1};var sg=new Hg;function Ig(a,b){this.f=a;this.zb=b}Ig.prototype.get=function(a){var b=t(this.f,a);if(!b)throw Error("No index defined for "+a);return b===Je?null:b};function Jg(a,b,c){var d=Na(a.f,function(d,f){var g=t(a.zb,f);z(g,"Missing index implementation for "+f);if(d===Je){if(g.Ob(b.node)){for(var k=[],l=c.vb(Ve),m=wg(l);m;)m.name!=b.name&&k.push(m),m=wg(l);k.push(b);return Kg(k,Ke(g))}return Je}g=c.get(b.name);k=d;g&&(k=k.remove(new P(b.name,g)));return k.Ha(b,b.node)});return new Ig(d,a.zb)}
function Lg(a,b,c){var d=Na(a.f,function(a){if(a===Je)return a;var d=c.get(b.name);return d?a.remove(new P(b.name,d)):a});return new Ig(d,a.zb)}var Mg=new Ig({".priority":Je},{".priority":R});function Pe(a,b){this.K=a;z(p(this.K)&&null!==this.K,"LeafNode shouldn't be created with null/undefined value.");this.fa=b||v;Ng(this.fa);this.f=null}h=Pe.prototype;h.R=function(){return!0};h.J=function(){return this.fa};h.ba=function(a){return new Pe(this.K,a)};h.P=function(a){return".priority"===a?this.fa:v};h.ia=function(a){return a.j()?this:".priority"===K(a)?this.fa:v};h.va=function(){return!1};h.Mc=function(){return null};
h.T=function(a,b){return".priority"===a?this.ba(b):b.j()&&".priority"!==a?this:v.T(a,b).ba(this.fa)};h.M=function(a,b){var c=K(a);if(null===c)return b;if(b.j()&&".priority"!==c)return this;z(".priority"!==c||1===Xc(a),".priority must be the last token in a path");return this.T(c,v.M(L(a),b))};h.j=function(){return!1};h.Va=function(){return 0};h.N=function(a){return a&&!this.J().j()?{".value":this.ua(),".priority":this.J().N()}:this.ua()};
h.hash=function(){if(null===this.f){var a="";this.fa.j()||(a+="priority:"+Og(this.fa.N())+":");var b=typeof this.K,a=a+(b+":"),a="number"===b?a+Ib(this.K):a+this.K;this.f=ub(a)}return this.f};h.ua=function(){return this.K};h.qb=function(a){if(a===v)return 1;if(a instanceof hg)return-1;z(a.R(),"Unknown node type");var b=typeof a.K,c=typeof this.K,d=oa(Pg,b),e=oa(Pg,c);z(0<=d,"Unknown leaf type: "+b);z(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.K<a.K?-1:this.K===a.K?0:1:e-d};
var Pg=["object","boolean","number","string"];Pe.prototype.Oa=function(){return this};Pe.prototype.Bb=function(){return!0};Pe.prototype.$=function(a){return a===this?!0:a.R()?this.K===a.K&&this.fa.$(a.fa):!1};Pe.prototype.toString=function(){return u(this.N(!0))};function hg(a,b,c){this.C=a;(this.fa=b)&&Ng(this.fa);a.j()&&z(!this.fa||this.fa.j(),"An empty node cannot have a priority");this.f=c;this.g=null}h=hg.prototype;h.R=function(){return!1};h.J=function(){return this.fa||v};h.ba=function(a){return this.C.j()?this:new hg(this.C,a,this.f)};h.P=function(a){if(".priority"===a)return this.J();a=this.C.get(a);return null===a?v:a};h.ia=function(a){var b=K(a);return null===b?this:this.P(b).ia(L(a))};h.va=function(a){return null!==this.C.get(a)};
h.T=function(a,b){z(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ba(b);var c=new P(a,b),d,e;b.j()?(d=this.C.remove(a),c=Lg(this.f,c,this.C)):(d=this.C.Ha(a,b),c=Jg(this.f,c,this.C));e=d.j()?v:this.fa;return new hg(d,e,c)};h.M=function(a,b){var c=K(a);if(null===c)return b;z(".priority"!==K(a)||1===Xc(a),".priority must be the last token in a path");var d=this.P(c).M(L(a),b);return this.T(c,d)};h.j=function(){return this.C.j()};h.Va=function(){return this.C.count()};
var Qg=/^(0|[1-9]\d*)$/;h=hg.prototype;h.N=function(a){if(this.j())return null;var b={},c=0,d=0,e=!0;this.V(R,function(f,g){b[f]=g.N(a);c++;e&&Qg.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.J().j()&&(b[".priority"]=this.J().N());return b};h.hash=function(){if(null===this.g){var a="";this.J().j()||(a+="priority:"+Og(this.J().N())+":");this.V(R,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.g=""===a?"":ub(a)}return this.g};
h.Mc=function(a,b,c){return(c=Rg(this,c))?(a=ug(c,new P(a,b)))?a.name:null:ug(this.C,a)};function Sg(a,b){var c;c=(c=Rg(a,b))?(c=c.Rb())&&c.name:a.C.Rb();return c?new P(c,a.C.get(c)):null}function Tg(a,b){var c;c=(c=Rg(a,b))?(c=c.Cb())&&c.name:a.C.Cb();return c?new P(c,a.C.get(c)):null}h.V=function(a,b){var c=Rg(this,a);return c?c.ja(function(a){return b(a.name,a.node)}):this.C.ja(b)};h.vb=function(a){return this.wb(a.Sb(),a)};
h.wb=function(a,b){var c=Rg(this,b);if(c)return c.wb(a,function(a){return a});for(var c=this.C.wb(a.name,Ve),d=xg(c);null!=d&&0>b.compare(d,a);)wg(c),d=xg(c);return c};h.nd=function(a){return this.xb(a.Qb(),a)};h.xb=function(a,b){var c=Rg(this,b);if(c)return c.xb(a,function(a){return a});for(var c=this.C.xb(a.name,Ve),d=xg(c);null!=d&&0<b.compare(d,a);)wg(c),d=xg(c);return c};h.qb=function(a){return this.j()?a.j()?0:-1:a.R()||a.j()?1:a===Ne?-1:0};
h.Oa=function(a){if(a===Re||Ua(this.f.zb,a.toString()))return this;var b=this.f,c=this.C;z(a!==Re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.vb(Ve),f=wg(c);f;)e=e||a.Ob(f.node),d.push(f),f=wg(c);var g;e?g=Kg(d,Ke(a)):g=Je;d=a.toString();e=Ya(b.zb);e[d]=a;a=Ya(b.f);a[d]=g;return new hg(this.C,this.fa,new Ig(a,e))};h.Bb=function(a){return a===Re||Ua(this.f.zb,a.toString())};
h.$=function(a){if(a===this)return!0;if(a.R())return!1;if(this.J().$(a.J())&&this.C.count()===a.C.count()){var b=this.vb(R);a=a.vb(R);for(var c=wg(b),d=wg(a);c&&d;){if(c.name!==d.name||!c.node.$(d.node))return!1;c=wg(b);d=wg(a)}return null===c&&null===d}return!1};function Rg(a,b){return b===Re?null:a.f.get(b.toString())}h.toString=function(){return u(this.N(!0))};function Q(a,b){if(null===a)return v;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);z(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Pe(a,Q(c));if(a instanceof Array){var d=v,e=a;x(e,function(a,b){if(za(e,b)&&"."!==b.substring(0,1)){var c=Q(a);if(c.R()||!c.j())d=
d.T(b,c)}});return d.ba(Q(c))}var f=[],g=!1,k=a;Aa(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=Q(k[a]);b.j()||(g=g||!b.J().j(),f.push(new P(a,b)))}});if(0==f.length)return v;var l=Kg(f,Ge,function(a){return a.name},He);if(g){var m=Kg(f,Ke(R));return new hg(l,Q(c),new Ig({".priority":m},{".priority":R}))}return new hg(l,Q(c),Mg)}var Ug=Math.log(2);
function Vg(a){this.count=parseInt(Math.log(a+1)/Ug,10);this.gd=this.count-1;this.Qd=a+1&parseInt(Array(this.count+1).join("1"),2)}function Wg(a){var b=!(a.Qd&1<<a.gd);a.gd--;return b}
function Kg(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],w=c?c(m):m;return new yg(w,m.node,tg,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),C=e(m+1,d),m=a[m],w=c?c(m):m;return new yg(w,m.node,tg,f,C)}a.sort(b);var f=function(b){function d(b,g){var k=w-b,C=w;w-=b;var C=e(k+1,C),k=a[k],O=c?c(k):k,C=new yg(O,k.node,g,null,C);f?f.left=C:m=C;f=C}for(var f=null,m=null,w=a.length,C=0;C<b.count;++C){var O=Wg(b),Id=Math.pow(2,b.count-(C+1));O?d(Id,tg):(d(Id,tg),d(Id,zg))}return m}(new Vg(a.length));
return null!==f?new rg(d||b,f):new rg(d||b)}function Og(a){return"number"===typeof a?"number:"+Ib(a):"string:"+a}function Ng(a){if(a.R()){var b=a.N();z("string"===typeof b||"number"===typeof b||"object"===typeof b&&za(b,".sv"),"Priority must be a string or number.")}else z(a===Ne||a.j(),"priority of unexpected type.");z(a===Ne||a.J().j(),"Priority nodes can't have a priority of their own.")}var v=new hg(new rg(He),null,Mg);function Xg(){hg.call(this,new rg(He),v,Mg)}la(Xg,hg);h=Xg.prototype;
h.qb=function(a){return a===this?0:1};h.$=function(a){return a===this};h.J=function(){return this};h.P=function(){return v};h.j=function(){return!1};var Ne=new Xg,Le=new P("[MIN_NAME]",v),Te=new P("[MAX_NAME]",Ne);function lg(a,b){this.L=a;this.f=b}function ig(a,b,c,d){return new lg(new Yf(b,c,d),a.f)}function mg(a){return a.L.ca?a.L.u():null}lg.prototype.G=function(){return this.f};function Zf(a){return a.f.ca?a.f.u():null};function Yg(a,b){this.xa=a;var c=a.F,d=new Zg(c.U()),c=nf(c)?new Zg(c.U()):c.ka?new $g(c):new ah(c);this.g=new ag(c);var e=b.G(),f=b.L,g=d.oa(v,e.u(),null),k=c.oa(v,f.u(),null);this.Da=new lg(new Yf(k,f.ca,c.za()),new Yf(g,e.ca,d.za()));this.f=[];this.m=new Qf(a)}function bh(a){return a.xa}h=Yg.prototype;h.G=function(){return this.Da.G().u()};h.Ta=function(a){var b=Zf(this.Da);return b&&(nf(this.xa.F)||!a.j()&&!b.P(K(a)).j())?b.ia(a):null};h.j=function(){return 0===this.f.length};h.ob=function(a){this.f.push(a)};
h.Xa=function(a,b){var c=[];if(b){z(null==a,"A cancel should cancel all event registrations.");var d=this.xa.path;pa(this.f,function(a){(a=a.Fc(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.f.length;++f){var g=this.f[f];if(!g.matches(a))e.push(g);else if(a.Nc()){e=e.concat(this.f.slice(f+1));break}}this.f=e}else this.f=[];return c};
h.Pa=function(a,b,c){a.type===Af&&null!==a.source.hb&&(z(Zf(this.Da),"We should always have a full cache before handling merges"),z(mg(this.Da),"Missing event cache, even though we have a server cache"));var d=this.Da;a=this.g.Pa(d,a,b,c);b=this.g;c=a.xc;z(c.L.u().Bb(b.O.U()),"Event snap not indexed");z(c.G().u().Bb(b.O.U()),"Server snap not indexed");z(gg(a.xc.G())||!gg(d.G()),"Once a server snap is complete, it should never go back");this.Da=a.xc;return ch(this,a.Rd,a.xc.L.u(),null)};
function dh(a,b){var c=a.Da.L,d=[];c.u().R()||c.u().V(R,function(a,b){d.push(new T("child_added",b,a))});c.ca&&d.push(If(c.u()));return ch(a,d,c.u(),b)}function ch(a,b,c,d){return Rf(a.m,b,c,d?[d]:a.f)};function eh(a,b){this.value=a;this.children=b||fh}var fh=new rg(function(a,b){return a===b?0:a<b?-1:1});function gh(a){var b=qg;x(a,function(a,d){b=b.set(new I(d),a)});return b}h=eh.prototype;h.j=function(){return null===this.value&&this.children.j()};function hh(a,b,c){if(null!=a.value&&c(a.value))return{path:M,value:a.value};if(b.j())return null;var d=K(b);a=a.children.get(d);return null!==a?(b=hh(a,L(b),c),null!=b?{path:(new I(d)).B(b.path),value:b.value}:null):null}
function ih(a,b){return hh(a,b,function(){return!0})}h.subtree=function(a){if(a.j())return this;var b=this.children.get(K(a));return null!==b?b.subtree(L(a)):qg};h.set=function(a,b){if(a.j())return new eh(b,this.children);var c=K(a),d=(this.children.get(c)||qg).set(L(a),b),c=this.children.Ha(c,d);return new eh(this.value,c)};
h.remove=function(a){if(a.j())return this.children.j()?qg:new eh(null,this.children);var b=K(a),c=this.children.get(b);return c?(a=c.remove(L(a)),b=a.j()?this.children.remove(b):this.children.Ha(b,a),null===this.value&&b.j()?qg:new eh(this.value,b)):this};h.get=function(a){if(a.j())return this.value;var b=this.children.get(K(a));return b?b.get(L(a)):null};
function pg(a,b,c){if(b.j())return c;var d=K(b);b=pg(a.children.get(d)||qg,L(b),c);d=b.j()?a.children.remove(d):a.children.Ha(d,b);return new eh(a.value,d)}function jh(a,b){return kh(a,M,b)}function kh(a,b,c){var d={};a.children.ja(function(a,f){d[a]=kh(f,b.B(a),c)});return c(b,a.value,d)}function lh(a,b,c){return mh(a,b,M,c)}function mh(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.j())return null;e=K(b);return(a=a.children.get(e))?mh(a,L(b),c.B(e),d):null}
function nh(a,b,c){if(!b.j()){var d=!0;a.value&&(d=c(M,a.value));!0===d&&(d=K(b),(a=a.children.get(d))&&oh(a,L(b),M.B(d),c))}}function oh(a,b,c,d){if(b.j())return a;a.value&&d(c,a.value);var e=K(b);return(a=a.children.get(e))?oh(a,L(b),c.B(e),d):qg}function ng(a,b){ph(a,M,b)}function ph(a,b,c){a.children.ja(function(a,e){ph(e,b.B(a),c)});a.value&&c(b,a.value)}function qh(a,b){a.children.ja(function(a,d){d.value&&b(a,d.value)})}var qg=new eh(null);
eh.prototype.toString=function(){var a={};ng(this,function(b,c){a[b.toString()]=c.toString()});return u(a)};function rh(){this.f={}}h=rh.prototype;h.j=function(){return Xa(this.f)};h.Pa=function(a,b,c){var d=a.source.hb;if(null!==d)return d=t(this.f,d),z(null!=d,"SyncTree gave us an op for an invalid query."),d.Pa(a,b,c);var e=[];x(this.f,function(d){e=e.concat(d.Pa(a,b,c))});return e};h.ob=function(a,b,c,d,e){var f=a.ra(),g=t(this.f,f);if(!g){var g=c.qa(e?d:null),k=!1;g?k=!0:(d instanceof hg?g=c.Jb(d):g=v,k=!1);g=new Yg(a,new lg(new Yf(g,k,!1),new Yf(d,e,!1)));this.f[f]=g}g.ob(b);return dh(g,b)};
h.Xa=function(a,b,c){var d=a.ra(),e=[],f=[],g=null!=sh(this);if("default"===d){var k=this;x(this.f,function(a,d){f=f.concat(a.Xa(b,c));a.j()&&(delete k.f[d],nf(a.xa.F)||e.push(a.xa))})}else{var l=t(this.f,d);l&&(f=f.concat(l.Xa(b,c)),l.j()&&(delete this.f[d],nf(l.xa.F)||e.push(l.xa)))}g&&null==sh(this)&&e.push(new V(a.H.ya,a.H,a.path));return{pe:e,Xd:f}};function th(a){return qa(Ra(a.f),function(a){return!nf(a.xa.F)})}h.Ta=function(a){var b=null;x(this.f,function(c){b=b||c.Ta(a)});return b};
function uh(a,b){if(nf(b.F))return sh(a);var c=b.ra();return t(a.f,c)}function sh(a){return Wa(a.f,function(a){return nf(a.xa.F)})||null};function vh(a){this.Y=a}var wh=new vh(new eh(null));function xh(a,b,c){if(b.j())return new vh(new eh(c));var d=ih(a.Y,b);if(null!=d){var e=d.path,d=d.value;b=J(e,b);d=d.M(b,c);return new vh(a.Y.set(e,d))}a=pg(a.Y,b,new eh(c));return new vh(a)}function yh(a,b,c){var d=a;Aa(c,function(a,c){d=xh(d,b.B(a),c)});return d}vh.prototype.sc=function(a){if(a.j())return wh;a=pg(this.Y,a,qg);return new vh(a)};function zh(a,b){var c=ih(a.Y,b);return null!=c?a.Y.get(c.path).ia(J(c.path,b)):null}
function Ah(a){var b=[],c=a.Y.value;null!=c?c.R()||c.V(R,function(a,c){b.push(new P(a,c))}):a.Y.children.ja(function(a,c){null!=c.value&&b.push(new P(a,c.value))});return b}function Bh(a,b){if(b.j())return a;var c=zh(a,b);return null!=c?new vh(new eh(c)):new vh(a.Y.subtree(b))}vh.prototype.j=function(){return this.Y.j()};vh.prototype.apply=function(a){return Ch(M,this.Y,a)};
function Ch(a,b,c){if(null!=b.value)return c.M(a,b.value);var d=null;b.children.ja(function(b,f){".priority"===b?(z(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Ch(a.B(b),f,c)});c.ia(a).j()||null===d||(c=c.M(a.B(".priority"),d));return c};La.Xe;function Dh(){this.f=wh;this.g=[];this.m=-1}h=Dh.prototype;
h.sc=function(a){var b=va(this.g,function(b){return b.yc===a});z(0<=b,"removeWrite called with nonexistent writeId.");var c=this.g[b];this.g.splice(b,1);for(var d=c.visible,e=!1,f=this.g.length-1;d&&0<=f;){var g=this.g[f];g.visible&&(f>=b&&Eh(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.f=Fh(this.g,Gh,M),0<this.g.length?this.m=this.g[this.g.length-1].yc:this.m=-1;else if(c.Ba)this.f=this.f.sc(c.path);else{var k=this;x(c.children,function(a,b){k.f=k.f.sc(c.path.B(b))})}return c.path}return null};
h.qa=function(a,b,c,d){if(c||d){var e=Bh(this.f,a);return!d&&e.j()?b:d||null!=b||null!=zh(e,M)?(e=Fh(this.g,function(b){return(b.visible||d)&&(!c||!(0<=oa(c,b.yc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||v,e.apply(b)):null}e=zh(this.f,a);if(null!=e)return e;e=Bh(this.f,a);return e.j()?b:null!=b||null!=zh(e,M)?(b=b||v,e.apply(b)):null};
h.Jb=function(a,b){var c=v,d=zh(this.f,a);if(d)d.R()||d.V(R,function(a,b){c=c.T(a,b)});else if(b){var e=Bh(this.f,a);b.V(R,function(a,b){var d=Bh(e,new I(a)).apply(b);c=c.T(a,d)});pa(Ah(e),function(a){c=c.T(a.name,a.node)})}else e=Bh(this.f,a),pa(Ah(e),function(a){c=c.T(a.name,a.node)});return c};h.Zb=function(a,b,c,d){z(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.B(b);if(null!=zh(this.f,a))return null;a=Bh(this.f,a);return a.j()?d.ia(b):a.apply(d.ia(b))};
h.Ma=function(a,b,c){a=a.B(b);var d=zh(this.f,a);return null!=d?d:Xf(c,b)?Bh(this.f,a).apply(c.u().P(b)):null};h.Eb=function(a){return zh(this.f,a)};h.Cc=function(a,b,c,d,e,f){var g;a=Bh(this.f,a);g=zh(a,M);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.Oa(f);if(g.j()||g.R())return[];b=[];a=Ke(f);e=e?g.xb(c,f):g.wb(c,f);for(f=wg(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=wg(e);return b};
function Eh(a,b){return a.Ba?a.path.contains(b):!!Va(a.children,function(c,d){return a.path.B(d).contains(b)})}function Gh(a){return a.visible}
function Fh(a,b,c){for(var d=wh,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ba)c.contains(g)?(g=J(c,g),d=xh(d,g,f.Ba)):g.contains(c)&&(g=J(g,c),d=xh(d,M,f.Ba.ia(g)));else if(f.children)if(c.contains(g))g=J(c,g),d=yh(d,g,f.children);else{if(g.contains(c))if(g=J(g,c),g.j())d=yh(d,M,f.children);else if(f=t(f.children,K(g)))f=f.ia(L(g)),d=xh(d,M,f)}else throw qb("WriteRecord should have .snap or .children");}}return d}function Hh(a,b){this.lb=a;this.Y=b}h=Hh.prototype;
h.qa=function(a,b,c){return this.Y.qa(this.lb,a,b,c)};h.Jb=function(a){return this.Y.Jb(this.lb,a)};h.Zb=function(a,b,c){return this.Y.Zb(this.lb,a,b,c)};h.Eb=function(a){return this.Y.Eb(this.lb.B(a))};h.Cc=function(a,b,c,d,e){return this.Y.Cc(this.lb,a,b,c,d,e)};h.Ma=function(a,b){return this.Y.Ma(this.lb,a,b)};h.B=function(a){return new Hh(this.lb.B(a),this.Y)};La.Te;function Ih(a){this.f=qg;this.g=new Dh;this.A={};this.m={};this.o=a}function Jh(a,b,c,d,e){var f=a.g,g=e;z(d>f.m,"Stacking an older write on top of newer ones");p(g)||(g=!0);f.g.push({path:b,Ba:c,yc:d,visible:g});g&&(f.f=xh(f.f,b,c));f.m=d;return e?Kh(a,new Bf(yf,b,c)):[]}function Lh(a,b,c,d){var e=a.g;z(d>e.m,"Stacking an older merge on top of newer ones");e.g.push({path:b,children:c,yc:d,visible:!0});e.f=yh(e.f,b,c);e.m=d;c=gh(c);return Kh(a,new zf(yf,b,c))}
function Mh(a,b,c){c=c||!1;b=a.g.sc(b);return null==b?[]:Kh(a,new wf(b,c))}function Nh(a,b,c){c=gh(c);return Kh(a,new zf(Hf,b,c))}function Oh(a,b,c,d){d=Ph(a,d);if(null!=d){var e=Qh(d);d=e.path;e=e.hb;b=J(d,b);c=new Bf(new Gf(!1,!0,e,!0),b,c);return Rh(a,d,c)}return[]}function Sh(a,b,c,d){if(d=Ph(a,d)){var e=Qh(d);d=e.path;e=e.hb;b=J(d,b);c=gh(c);c=new zf(new Gf(!1,!0,e,!0),b,c);return Rh(a,d,c)}return[]}
Ih.prototype.ob=function(a,b){var c=a.path,d=null,e=!1;nh(this.f,c,function(a,b){var f=J(a,c);d=b.Ta(f);e=e||null!=sh(b);return!d});var f=this.f.get(c);f?(e=e||null!=sh(f),d=d||f.Ta(M)):(f=new rh,this.f=this.f.set(c,f));var g;null!=d?g=!0:(g=!1,d=v,qh(this.f.subtree(c),function(a,b){var c=b.Ta(M);c&&(d=d.T(a,c))}));var k=null!=uh(f,a);if(!k&&!nf(a.F)){var l=Th(a);z(!Ta(this.m,l),"View does not exist, but we have a tag");var m=Uh++;this.m[l]=m;this.A["_"+m]=l}g=f.ob(a,b,new Hh(c,this.g),d,g);k||e||
(f=uh(f,a),g=g.concat(Vh(this,a,f)));return g};
Ih.prototype.Xa=function(a,b,c){var d=a.path,e=this.f.get(d),f=[];if(e&&("default"===a.ra()||null!=uh(e,a))){f=e.Xa(a,b,c);e.j()&&(this.f=this.f.remove(d));e=f.pe;f=f.Xd;b=-1!==va(e,function(a){return nf(a.F)});var g=lh(this.f,d,function(a,b){return null!=sh(b)});if(b&&!g&&(d=this.f.subtree(d),!d.j()))for(var d=Wh(d),k=0;k<d.length;++k){var l=d[k],m=l.xa,l=Xh(this,l);this.o.Wc(m,Yh(this,m),l.jc,l.S)}if(!g&&0<e.length&&!c)if(b)this.o.vc(a,null);else{var w=this;pa(e,function(a){a.ra();var b=w.m[Th(a)];
w.o.vc(a,b)})}Zh(this,e)}return f};Ih.prototype.qa=function(a,b){var c=this.g,d=lh(this.f,a,function(b,c){var d=J(b,a);if(d=c.Ta(d))return d});return c.qa(a,d,b,!0)};function Wh(a){return jh(a,function(a,c,d){if(c&&null!=sh(c))return[sh(c)];var e=[];c&&(e=th(c));x(d,function(a){e=e.concat(a)});return e})}function Zh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!nf(d.F)){var d=Th(d),e=a.m[d];delete a.m[d];delete a.A["_"+e]}}}
function Vh(a,b,c){var d=b.path,e=Yh(a,b);c=Xh(a,c);b=a.o.Wc(b,e,c.jc,c.S);d=a.f.subtree(d);if(e)z(null==sh(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=jh(d,function(a,b,c){if(!a.j()&&b&&null!=sh(b))return[bh(sh(b))];var d=[];b&&(d=d.concat(ra(th(b),function(a){return a.xa})));x(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.o.vc(c,Yh(a,c));return b}
function Xh(a,b){var c=b.xa,d=Yh(a,c);return{jc:function(){return(b.G()||v).hash()},S:function(b){if("ok"===b){if(d){var f=c.path;if(b=Ph(a,d)){var g=Qh(b);b=g.path;g=g.hb;f=J(b,f);f=new Cf(new Gf(!1,!0,g,!0),f);b=Rh(a,b,f)}else b=[]}else b=Kh(a,new Cf(Hf,c.path));return b}switch(b){case "too_big":f="The data requested exceeds the maximum size,that can be accessed with a single request.";break;case "limits_exceeded":f="The request is refused by server side because of the resource limit of your APP plan.";
break;case "permission_denied":f="Client doesn't have permission to access the desired data.";break;case "unavailable":f="The service is unavailable";break;default:f="Unknown error."}f=Error(b+": "+f);f.code=b.toUpperCase();return a.Xa(c,null,f)}}}function Th(a){return a.path.toString()+"$"+a.ra()}function Qh(a){var b=a.indexOf("$");z(-1!==b&&b<a.length-1,"Bad queryKey.");return{hb:a.substr(b+1),path:new I(a.substr(0,b))}}function Ph(a,b){var c=a.A,d="_"+b;return null!==c&&d in c?c[d]:void 0}
function Yh(a,b){var c=Th(b);return t(a.m,c)}var Uh=1;function Rh(a,b,c){var d=a.f.get(b);z(d,"Missing sync point for query tag that we're tracking");return d.Pa(c,new Hh(b,a.g),null)}function Kh(a,b){return $h(a,b,a.f,null,new Hh(M,a.g))}function $h(a,b,c,d,e){if(b.path.j())return ai(a,b,c,d,e);var f=c.get(M);null==d&&null!=f&&(d=f.Ta(M));var g=[],k=K(b.path),l=b.Tb(k);if((c=c.children.get(k))&&l)var m=d?d.P(k):null,k=e.B(k),g=g.concat($h(a,l,c,m,k));f&&(g=g.concat(f.Pa(b,e,d)));return g}
function ai(a,b,c,d,e){var f=c.get(M);null==d&&null!=f&&(d=f.Ta(M));var g=[];c.children.ja(function(c,f){var m=d?d.P(c):null,w=e.B(c),C=b.Tb(c);C&&(g=g.concat(ai(a,C,f,m,w)))});f&&(g=g.concat(f.Pa(b,e,d)));return g};function U(a,b,c){this.f=a;this.g=b;this.w=c}U.prototype.N=function(){G("Wilddog.DataSnapshot.val",0,0,arguments.length);return this.f.N()};U.prototype.val=U.prototype.N;U.prototype.jd=function(){G("Wilddog.DataSnapshot.exportVal",0,0,arguments.length);return this.f.N(!0)};U.prototype.exportVal=U.prototype.jd;U.prototype.m=function(){G("Wilddog.DataSnapshot.exists",0,0,arguments.length);return!this.f.j()};U.prototype.exists=U.prototype.m;
U.prototype.B=function(a){G("Wilddog.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));nd("Wilddog.DataSnapshot.child",a);var b=new I(a),c=this.g.B(b);return new U(this.f.ia(b),c,R)};U.prototype.child=U.prototype.B;U.prototype.va=function(a){G("Wilddog.DataSnapshot.hasChild",1,1,arguments.length);nd("Wilddog.DataSnapshot.hasChild",a);var b=new I(a);return!this.f.ia(b).j()};U.prototype.hasChild=U.prototype.va;
U.prototype.J=function(){G("Wilddog.DataSnapshot.getPriority",0,0,arguments.length);return this.f.J().N()};U.prototype.getPriority=U.prototype.J;U.prototype.o=function(a){G("Wilddog.DataSnapshot.forEach",1,1,arguments.length);H("Wilddog.DataSnapshot.forEach",1,a,!1);if(this.f.R())return!1;var b=this;return!!this.f.V(this.w,function(c,d){return a(new U(d,b.g.B(c),R))})};U.prototype.forEach=U.prototype.o;
U.prototype.ic=function(){G("Wilddog.DataSnapshot.hasChildren",0,0,arguments.length);return this.f.R()?!1:!this.f.j()};U.prototype.hasChildren=U.prototype.ic;U.prototype.name=function(){A("Wilddog.DataSnapshot.name() being deprecated. Please use Wilddog.DataSnapshot.key() instead.");G("Wilddog.DataSnapshot.name",0,0,arguments.length);return this.key()};U.prototype.name=U.prototype.name;U.prototype.key=function(){G("Wilddog.DataSnapshot.key",0,0,arguments.length);return this.g.key()};
U.prototype.key=U.prototype.key;U.prototype.Va=function(){G("Wilddog.DataSnapshot.numChildren",0,0,arguments.length);return this.f.Va()};U.prototype.numChildren=U.prototype.Va;U.prototype.ib=function(){G("Wilddog.DataSnapshot.ref",0,0,arguments.length);return this.g};U.prototype.ref=U.prototype.ib;function bi(a,b,c){this.I=b;this.ya=a;this.Fa=ff(b);this.g=new qf;this.pa=1;this.Ja=null;this.m;c||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.m=new lf(this.I,r(this.Hd,this)),setTimeout(r(this.Gd,this,!0),0)):this.m=this.Ja=new ke(this.I,r(this.Hd,this),r(this.Gd,this),r(this.Re,this));this.nb=gf(b,r(function(){return new bf(this.Fa,this.m)},this));this.o=new Ae;
this.Ka=new Ma;var d=this;this.W=new Ih({Wc:function(a,b,c,k){b=[];c=d.Ka.u(a.path);c.j()||(b=Kh(d.W,new Bf(Hf,a.path,c)),setTimeout(function(){k("ok")},0));return b},vc:ba});this.ya.bind(Ob.Qa,function(a){a&&a.signIn?d.m.ed(a.idToken,function(){ci(d,"authenticated",!0)},function(a,b){di(d,a,b)}):d.m.Ed(function(a,b){di(d,a,b)})});ci(this,"connected",!1);this.A=new Ye;this.ec=0;this.Oc=null;this.f=new Ih({Wc:function(a,b,c,k){d.m.qd(a,c,b,function(b,c){var f=k(b,c);vf(d.g,a.path,f)});return[]},vc:function(a,
b){d.m.Fd(a,b)}})}function di(a,b,c){ci(a,"authenticated",!1);"expired_token"==b&&a.ya.emit(Ob.fd,{status:b,reason:c})}h=bi.prototype;h.toString=function(){return(this.I.jb?"https://":"http://")+this.I.host};h.name=function(){return this.I.sd};function ei(a){a=a.Ka.u(new I(".info/serverTimeOffset")).N()||0;return(new Date).getTime()+a}function fi(a){a=a={timestamp:ei(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
h.Hd=function(a,b,c,d){this.ec++;var e=new I(a);b=this.Oc?this.Oc(a,b):b;a=[];d?c?(b=Na(b,function(a){return Q(a)}),a=Sh(this.f,e,b,d)):(b=Q(b),a=Oh(this.f,e,b,d)):c?(d=Na(b,function(a){return Q(a)}),a=Nh(this.f,e,d)):(d=Q(b),a=Kh(this.f,new Bf(Hf,e,d)));d=e;0<a.length&&(d=gi(this,e));vf(this.g,d,a)};h.Gd=function(a){ci(this,"connected",a);!1===a&&hi(this)};h.Re=function(a){var b=this;Hb(a,function(a,d){ci(b,d,a)})};
function ci(a,b,c){b=new I("/.info/"+b);c=Q(c);var d=a.Ka;d.tc=d.tc.M(b,c);c=Kh(a.W,new Bf(Hf,b,c));vf(a.g,b,c)}h.Ya=function(a,b,c,d){this.Xb("set",{path:a.toString(),value:b,bf:c});var e=fi(this);b=Q(b,c);var e=kf(b,e),f=this.pa++,e=Jh(this.f,a,e,f,!0);rf(this.g,e);var g=this;this.m.Fb(a.toString(),b.N(!0),function(b,c){var e="ok"===b;e||A("set at "+a+" failed: "+b);e=Mh(g.f,f,!e);vf(g.g,a,e);ii(d,b,c)});e=ji(this,a);gi(this,e);vf(this.g,e,[])};
h.update=function(a,b,c){this.Xb("update",{path:a.toString(),value:b});var d=!0,e=fi(this),f={};x(b,function(a,b){d=!1;var c=Q(a);f[b]=kf(c,e)});if(d)tb("update() called with empty data.  Don't do anything."),ii(c,"ok");else{var g=this.pa++,k=Lh(this.f,a,f,g);rf(this.g,k);var l=this;this.m.rd(a.toString(),b,function(b,d){var e="ok"===b;e||A("update at "+a+" failed: "+b);var e=Mh(l.f,g,!e),f=a;0<e.length&&(f=gi(l,a));vf(l.g,f,e);ii(c,b,d)});b=ji(this,a);gi(this,b);vf(this.g,a,[])}};
function hi(a){a.Xb("onDisconnectEvents");var b=fi(a),c=[];af(jf(a.A,b),M,function(b,e){c=c.concat(Kh(a.f,new Bf(Hf,b,e)));var f=ji(a,b);gi(a,f)});a.A=new Ye;vf(a.g,M,c)}h.nc=function(a,b){var c=this;this.m.nc(a.toString(),function(d,e){"ok"===d&&$e(c.A,a);ii(b,d,e)})};function ki(a,b,c,d){var e=Q(c);a.m.Rc(b.toString(),e.N(!0),function(c,g){"ok"===c&&Ze(a.A,b,e);ii(d,c,g)})}function li(a,b,c,d,e){var f=Q(c,d);a.m.Rc(b.toString(),f.N(!0),function(c,d){"ok"===c&&Ze(a.A,b,f);ii(e,c,d)})}
function mi(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(tb("onDisconnect().update() called with empty data.  Don't do anything."),ii(d,"ok")):a.m.td(b.toString(),c,function(e,f){if("ok"===e)for(var l in c)if(c.hasOwnProperty(l)){var m=Q(c[l]);Ze(a.A,b.B(l),m)}ii(d,e,f)})}function ni(a,b,c){c=".info"===K(b.path)?a.W.ob(b,c):a.f.ob(b,c);tf(a.g,b.path,c)}h.fb=function(){this.Ja&&this.Ja.fb()};h.Db=function(){this.Ja&&this.Ja.Db()};
h.Xc=function(a){if("undefined"!==typeof console){a?(this.Ea||(this.Ea=new cf(this.Fa)),a=this.Ea.get()):a=this.Fa.get();var b=sa(Sa(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a)if(a.hasOwnProperty(c)){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.Yc=function(a){var b=this.Fa,c;p(c)||(c=1);za(b.f,a)||(b.f[a]=0);b.f[a]+=c;this.nb.Dd[a]=!0};h.Xb=function(a){var b="";this.Ja&&(b=this.Ja.id+":");tb(b,arguments)};
function ii(a,b,c){a&&Kb(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function oi(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.jb=b;this.sd=c;this.pc=e||"";this.Aa=db.get("host:"+a)||this.host;this.Sa=JSON.parse(y.get("failHosts"))||[]}oi.prototype.pd=function(){return"wilddogio.com"!==this.domain&&"wilddogio-demo.com"!==this.domain};
function he(a,b){null==b?(a.Aa=a.host,"s-"===a.Aa.substr(0,2)&&db.remove("host:"+a.host)):b!==a.Aa&&0<b.indexOf(".wilddogio.com")&&(a.Aa=b,"s-"===a.Aa.substr(0,2)&&db.set("host:"+a.host,a.Aa))}oi.prototype.toString=function(){var a=(this.jb?"https://":"http://")+this.host;this.pc&&(a+="<"+this.pc+">");return a};({}).Ve;
function pi(a,b,c,d,e){function f(){}a.Xb("transaction on "+b);var g=new V(a.ya,a,b);g.Wa("value",f);c={path:b,update:c,S:d,status:null,wd:pb(),dd:e,Bd:0,wc:function(){g.gb("value",f)},Bc:null,sa:null,bc:null,cc:null,dc:null};d=a.f.qa(b,void 0)||v;c.bc=d;d=c.update(d.N());if(p(d)){hd("transaction failed: Data returned ",d,c.path);c.status=1;e=Be(a.o,b);var k=e.ua()||[];k.push(c);Ce(e,k);"object"===typeof d&&null!==d&&za(d,".priority")?(k=t(d,".priority"),z(fd(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=
(a.f.qa(b)||v).J().N();e=fi(a);d=Q(d,k);e=kf(d,e);c.cc=d;c.dc=e;c.sa=a.pa++;c=Jh(a.f,b,e,c.sa,c.dd);vf(a.g,b,c);qi(a)}else c.wc(),c.cc=null,c.dc=null,c.S&&(a=new U(c.bc,new V(a.ya,a,c.path),R),c.S(null,!1,a))}function qi(a,b){var c=b||a.o;b||ri(a,c);if(null!==c.ua()){var d=si(a,c);z(0<d.length,"Sending zero length transaction queue");ta(d,function(a){return 1===a.status})&&ti(a,c.path(),d)}else c.ic()&&c.V(function(b){qi(a,b)})}
function ti(a,b,c){for(var d=ra(c,function(a){return a.sa}),e=a.f.qa(b,d)||v,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];z(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.Bd++;var k=J(b,g.path),d=d.M(k,g.cc)}var d=d.N(!0),l=a.ya;a.m.Fb(b.toString(),d,function(d){a.Xb("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(Mh(a.f,c[f].sa));if(c[f].S){var g=c[f].dc,k=new V(l,a,c[f].path);
d.push(r(c[f].S,null,null,!0,new U(g,k,R)))}c[f].wc()}ri(a,Be(a.o,b));qi(a);vf(a.g,b,e);for(f=0;f<d.length;f++)Kb(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(A("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].Bc=d;gi(a,b)}},e)}function gi(a,b){var c=ui(a,b),d=c.path(),c=si(a,c);vi(a,c,d);return d}
function vi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=ra(b,function(a){return a.sa}),g=0;g<b.length;g++){var k=b[g],l=J(c,k.path),m=!1,w;z(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)m=!0,w=k.Bc,e=e.concat(Mh(a.f,k.sa,!0));else if(1===k.status)if(25<=k.Bd)m=!0,w="maxretry",e=e.concat(Mh(a.f,k.sa,!0));else{var C=a.f.qa(k.path,f)||v;k.bc=C;var O=b[g].update(C.N());p(O)?(hd("transaction failed: Data returned ",O,k.path),l=Q(O),"object"===typeof O&&null!=
O&&za(O,".priority")||(l=l.ba(C.J())),C=k.sa,O=fi(a),O=kf(l,O),k.cc=l,k.dc=O,k.sa=a.pa++,wa(f,C),e=e.concat(Jh(a.f,k.path,O,k.sa,k.dd)),e=e.concat(Mh(a.f,C,!0))):(m=!0,w="nodata",e=e.concat(Mh(a.f,k.sa,!0)))}vf(a.g,c,e);e=[];m&&(b[g].status=3,setTimeout(b[g].wc,Math.floor(0)),b[g].S&&("nodata"===w?(k=new V(a.ya,a,b[g].path),d.push(r(b[g].S,null,null,!1,new U(b[g].bc,k,R)))):d.push(r(b[g].S,null,Error(w),!1,null))))}ri(a,a.o);for(g=0;g<d.length;g++)Kb(d[g]);qi(a)}}
function ui(a,b){for(var c,d=a.o;null!==(c=K(b))&&null===d.ua();)d=Be(d,c),b=L(b);return d}function si(a,b){var c=[];wi(a,b,c);c.sort(function(a,b){return a.wd-b.wd});return c}function wi(a,b,c){var d=b.ua();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.V(function(b){wi(a,b,c)})}function ri(a,b){var c=b.ua();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Ce(b,0<c.length?c:null)}b.V(function(b){ri(a,b)})}
function ji(a,b){var c=ui(a,b).path(),d=Be(a.o,b);Fe(d,function(b){xi(a,b)});xi(a,d);Ee(d,function(b){xi(a,b)});return c}
function xi(a,b){var c=b.ua();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(z(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].Bc="set"):(z(1===c[g].status,"Unexpected transaction status in abort"),c[g].wc(),e=e.concat(Mh(a.f,c[g].sa,!0)),c[g].S&&d.push(r(c[g].S,null,Error("set"),!1,null))));-1===f?Ce(b,null):c.length=f+1;vf(a.g,b.path(),e);for(g=0;g<d.length;g++)Kb(d[g])}};function yi(){this.f={};this.g=!1}ca(yi);yi.prototype.fb=function(a){for(var b in this.f[a.name])this.f[a.name].hasOwnProperty(b)&&this.f[a.name][b].fb()};yi.prototype.interrupt=yi.prototype.fb;yi.prototype.Db=function(a){for(var b in this.f[a.name])this.f[a.name].hasOwnProperty(b)&&this.f[a.name][b].Db()};yi.prototype.resume=yi.prototype.Db;yi.prototype.Ic=function(){this.g=!0};function zi(a){var b=this;this.Ra=a;this.m="*";rd()?this.f=this.g=sd():(this.f=window.opener,this.g=window);if(!b.f)throw"Unable to find relay frame";td(this.g,"message",r(this.A,this));td(this.g,"message",r(this.o,this));try{Ai(this,{a:"ready"})}catch(c){td(this.f,"load",function(){Ai(b,{a:"ready"})})}td(window,"unload",r(this.W,this))}function Ai(a,b){b=u(b);rd()?a.f.doPost(b,a.m):a.f.postMessage(b,a.m)}
zi.prototype.A=function(a){var b=this,c;try{c=Ka(a.data)}catch(d){}c&&"request"===c.a&&(ud(window,"message",this.A),this.m=a.origin,this.Ra&&setTimeout(function(){b.Ra(b.m,c.d,function(a,c){b.I=!c;b.Ra=void 0;Ai(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};zi.prototype.W=function(){try{ud(this.g,"message",this.o)}catch(a){}this.Ra&&(Ai(this,{a:"error",d:"unknown closed window"}),this.Ra=void 0);try{window.close()}catch(a){}};zi.prototype.o=function(a){if(this.I&&"die"===a.data)try{window.close()}catch(b){}};var W={$d:function(){$d.We.Zd();$d.Jd.$e()}};W.forceLongPolling=W.$d;W.ae=function(){$d.Jd.Zd()};W.forceWebSockets=W.ae;W.we=function(a,b){a.H.Ja.Vc=b};W.setSecurityDebugCallback=W.we;W.Xc=function(a,b){a.H.Xc(b)};W.stats=W.Xc;W.Yc=function(a,b){a.H.Yc(b)};W.statsIncrementCounter=W.Yc;W.ec=function(a){return a.H.ec};W.dataUpdateCount=W.ec;W.ce=function(a,b){a.H.Oc=b};W.interceptServerData=W.ce;W.ie=function(a){new zi(a)};W.onPopupOpen=W.ie;W.ue=function(a){Rb=a};W.setAuthenticationServer=W.ue;function Bi(a,b){this.committed=a;this.snapshot=b};function X(a,b){this.f=a;this.na=b}X.prototype.cancel=function(a){G("Wilddog.onDisconnect().cancel",0,1,arguments.length);H("Wilddog.onDisconnect().cancel",1,a,!0);var b=new D;this.f.nc(this.na,E(b,a));return b.f};X.prototype.cancel=X.prototype.cancel;X.prototype.cancel=X.prototype.cancel;
X.prototype.remove=function(a){G("Wilddog.onDisconnect().remove",0,1,arguments.length);od("Wilddog.onDisconnect().remove",this.na);H("Wilddog.onDisconnect().remove",1,a,!0);var b=new D;ki(this.f,this.na,null,E(b,a));return b.f};X.prototype.remove=X.prototype.remove;X.prototype.remove=X.prototype.remove;
X.prototype.set=function(a,b){G("Wilddog.onDisconnect().set",1,2,arguments.length);od("Wilddog.onDisconnect().set",this.na);gd("Wilddog.onDisconnect().set",a,this.na,!1);H("Wilddog.onDisconnect().set",2,b,!0);var c=new D;ki(this.f,this.na,a,E(c,b));return c.f};X.prototype.set=X.prototype.set;X.prototype.set=X.prototype.set;
X.prototype.Ya=function(a,b,c){G("Wilddog.onDisconnect().setWithPriority",2,3,arguments.length);od("Wilddog.onDisconnect().setWithPriority",this.na);gd("Wilddog.onDisconnect().setWithPriority",a,this.na,!1);kd("Wilddog.onDisconnect().setWithPriority",2,b);H("Wilddog.onDisconnect().setWithPriority",3,c,!0);var d=new D;li(this.f,this.na,a,b,E(d,c));return d.f};X.prototype.setWithPriority=X.prototype.Ya;X.prototype.setWithPriority=X.prototype.Ya;
X.prototype.update=function(a,b){G("Wilddog.onDisconnect().update",1,2,arguments.length);od("Wilddog.onDisconnect().update",this.na);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;A("Passing an Array to Wilddog.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jd("Wilddog.onDisconnect().update",a,this.na);H("Wilddog.onDisconnect().update",2,b,!0);c=new D;
mi(this.f,this.na,a,E(c,b));return c.f};X.prototype.update=X.prototype.update;X.prototype.update=X.prototype.update;var Ci=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);z(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);z(20===c.length,"nextPushId: Length should be 20.");
return c}}();function bg(){this.f={}}
function Di(a,b){var c=b.type,d=b.Na;z("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");z(".priority"!==d,"Only non-priority child changes can be tracked.");var e=t(a.f,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.f[d]=new T("child_changed",b.Ca,d,e.Ca);else if("child_removed"==c&&"child_added"==f)delete a.f[d];else if("child_removed"==c&&"child_changed"==f)a.f[d]=new T("child_removed",e.Qc,d);else if("child_changed"==c&&"child_added"==
f)a.f[d]=new T("child_added",b.Ca,d);else if("child_changed"==c&&"child_changed"==f)a.f[d]=new T("child_changed",b.Ca,d,e.Qc);else throw qb("Illegal combination of changes: "+b+" occurred after "+e);}else a.f[d]=b};function Zg(a){this.w=a}h=Zg.prototype;h.M=function(a,b,c,d,e){z(a.Bb(this.w),"A node must be indexed if only a child is updated");d=a.P(b);if(d.$(c))return a;null!=e&&(c.j()?a.va(b)?Di(e,new T("child_removed",d,b)):z(a.R(),"A child remove without an old child only makes sense on a leaf node"):d.j()?Di(e,new T("child_added",c,b)):Di(e,new T("child_changed",c,b,d)));return a.R()&&c.j()?a:a.T(b,c).Oa(this.w)};
h.oa=function(a,b,c){null!=c&&(a.R()||a.V(R,function(a,e){b.va(a)||Di(c,new T("child_removed",e,a))}),b.R()||b.V(R,function(b,e){if(a.va(b)){var f=a.P(b);f.$(e)||Di(c,new T("child_changed",e,b,f))}else Di(c,new T("child_added",e,b))}));return b.Oa(this.w)};h.ba=function(a,b){return a.j()?v:a.ba(b)};h.za=function(){return!1};h.tb=function(){return this};h.U=function(){return this.w};function ah(a){this.m=new Zg(a.U());this.w=a.U();var b;a.la?(b=Ei(a),b=a.U().Pb(Fi(a),b)):b=a.U().Sb();this.g=b;a.ma?(b=Gi(a),a=a.U().Pb(Hi(a),b)):a=a.U().Qb();this.f=a}h=ah.prototype;h.matches=function(a){return 0>=this.w.compare(this.g,a)&&0>=this.w.compare(a,this.f)};h.M=function(a,b,c,d,e){this.matches(new P(b,c))||(c=v);return this.m.M(a,b,c,d,e)};
h.oa=function(a,b,c){b.R()&&(b=v);var d=b.Oa(this.w),d=d.ba(v),e=this;b.V(R,function(a,b){e.matches(new P(a,b))||(d=d.T(a,v))});return this.m.oa(a,d,c)};h.ba=function(a){return a};h.za=function(){return!0};h.tb=function(){return this.m};h.U=function(){return this.w};function $g(a){this.f=new ah(a);this.w=a.U();z(a.ka,"Only valid if limit has been set");this.da=a.da;this.g=!Ii(a)}h=$g.prototype;h.M=function(a,b,c,d,e){this.f.matches(new P(b,c))||(c=v);return a.P(b).$(c)?a:a.Va()<this.da?this.f.tb().M(a,b,c,d,e):Ji(this,a,b,c,d,e)};
h.oa=function(a,b,c){var d;if(b.R()||b.j())d=v.Oa(this.w);else if(2*this.da<b.Va()&&b.Bb(this.w)){d=v.Oa(this.w);b=this.g?b.xb(this.f.f,this.w):b.wb(this.f.g,this.w);for(var e=0;0<b.Ia.length&&e<this.da;){var f=wg(b),g;if(g=this.g?0>=this.w.compare(this.f.g,f):0>=this.w.compare(f,this.f.f))d=d.T(f.name,f.node),e++;else break}}else{d=b.Oa(this.w);d=d.ba(v);var k,l,m;if(this.g){b=d.nd(this.w);k=this.f.f;l=this.f.g;var w=Ke(this.w);m=function(a,b){return w(b,a)}}else b=d.vb(this.w),k=this.f.g,l=this.f.f,
m=Ke(this.w);for(var e=0,C=!1;0<b.Ia.length;)f=wg(b),!C&&0>=m(k,f)&&(C=!0),(g=C&&e<this.da&&0>=m(f,l))?e++:d=d.T(f.name,v)}return this.f.tb().oa(a,d,c)};h.ba=function(a){return a};h.za=function(){return!0};h.tb=function(){return this.f.tb()};h.U=function(){return this.w};
function Ji(a,b,c,d,e,f){var g;if(a.g){var k=Ke(a.w);g=function(a,b){return k(b,a)}}else g=Ke(a.w);z(b.Va()==a.da,"");var l=new P(c,d),m=a.g?Sg(b,a.w):Tg(b,a.w),w=a.f.matches(l);if(b.va(c)){var C=b.P(c),m=e.Kc(a.w,m,a.g);null!=m&&m.name==c&&(m=e.Kc(a.w,m,a.g));e=null==m?1:g(m,l);if(w&&!d.j()&&0<=e)return null!=f&&Di(f,new T("child_changed",d,c,C)),b.T(c,d);null!=f&&Di(f,new T("child_removed",C,c));b=b.T(c,v);return null!=m&&a.f.matches(m)?(null!=f&&Di(f,new T("child_added",m.node,m.name)),b.T(m.name,
m.node)):b}return d.j()?b:w&&0<=g(m,l)?(null!=f&&(Di(f,new T("child_removed",m.node,m.name)),Di(f,new T("child_added",d,c))),b.T(c,d).T(m.name,v)):b};function Ki(){this.rb=this.ma=this.kb=this.la=this.ka=!1;this.da=0;this.mb="";this.Ab=null;this.eb="";this.yb=null;this.cb="";this.w=R}var Li=new Ki;function Ii(a){return""===a.mb?a.la:"l"===a.mb}function Fi(a){z(a.la,"Only valid if start has been set");return a.Ab}function Ei(a){z(a.la,"Only valid if start has been set");return a.kb?a.eb:"[MIN_NAME]"}function Hi(a){z(a.ma,"Only valid if end has been set");return a.yb}
function Gi(a){z(a.ma,"Only valid if end has been set");return a.rb?a.cb:"[MAX_NAME]"}h=Ki.prototype;h.U=function(){return this.w};function Mi(a){var b=new Ki;b.ka=a.ka;b.da=a.da;b.la=a.la;b.Ab=a.Ab;b.kb=a.kb;b.eb=a.eb;b.ma=a.ma;b.yb=a.yb;b.rb=a.rb;b.cb=a.cb;b.w=a.w;return b}h.Pc=function(a){var b=Mi(this);b.ka=!0;b.da=a;b.mb="";return b};h.lc=function(a){var b=Mi(this);b.ka=!0;b.da=a;b.mb="l";return b};h.mc=function(a){var b=Mi(this);b.ka=!0;b.da=a;b.mb="r";return b};
h.Vb=function(a,b){var c=Mi(this);c.la=!0;p(a)||(a=null);c.Ab=a;null!=b?(c.kb=!0,c.eb=b):(c.kb=!1,c.eb="");return c};h.Nb=function(a,b){var c=Mi(this);c.ma=!0;p(a)||(a=null);c.yb=a;p(b)?(c.rb=!0,c.cb=b):(c.df=!1,c.cb="");return c};function Ni(a,b){var c=Mi(a);c.w=b;return c}function pe(a){var b={};a.la&&(b.sp=a.Ab,a.kb&&(b.sn=a.eb));a.ma&&(b.ep=a.yb,a.rb&&(b.en=a.cb));if(a.ka){b.l=a.da;var c=a.mb;""===c&&(c=Ii(a)?"l":"r");b.vf=c}a.w!==R&&(b.i=a.w.toString());return b}
function nf(a){return!(a.la||a.ma||a.ka)}function of(a){var b={};if(nf(a)&&a.w==R)return b;var c;a.w===R?c="$priority":a.w===Ue?c="$value":a.w===Re?c="$key":(z(a.w instanceof Me,"Unrecognized index type!"),c=a.w.toString());b.orderBy=u(c);a.la&&(b.startAt=u(a.Ab),a.kb&&(b.startAt+=","+u(a.eb)));a.ma&&(b.endAt=u(a.yb),a.rb&&(b.endAt+=","+u(a.cb)));a.ka&&(Ii(a)?b.limitToFirst=a.da:b.limitToLast=a.da);return b}h.toString=function(){return u(pe(this))};function Y(a,b,c,d){this.H=a;this.path=b;this.F=c;this.f=d}
function Oi(a){var b=null,c=null;a.la&&(b=Fi(a));a.ma&&(c=Hi(a));if(a.U()===Re){if(a.la){if("[MIN_NAME]"!=Ei(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.ma){if("[MAX_NAME]"!=Gi(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.U()===R){if(null!=b&&!fd(b)||null!=c&&!fd(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(z(a.U()instanceof Me||a.U()===Ue,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function Pi(a){if(a.la&&a.ma&&a.ka&&(!a.ka||""===a.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function Qi(a,b){if(!0===a.f)throw Error(b+": You can't combine multiple orderBy calls.");}Y.prototype.ib=function(a){G("Query.ref",0,1,arguments.length);return new V(this.app,this.H,a?this.path.B(a):this.path)};Y.prototype.ref=Y.prototype.ib;Y.prototype.ref=Y.prototype.ib;
Y.prototype.Wa=function(a,b,c,d){G("Query.on",2,4,arguments.length);ld("Query.on",a,!1);H("Query.on",2,b,!1);var e=Ri("Query.on",c,d);if("value"===a)ni(this.H,this,new Of(b,e.cancel||null,e.context||null));else{var f={};f[a]=b;ni(this.H,this,new Pf(f,e.cancel,e.context))}return b};Y.prototype.on=Y.prototype.Wa;Y.prototype.on=Y.prototype.Wa;
Y.prototype.gb=function(a,b,c){G("Query.off",0,3,arguments.length);ld("Query.off",a,!0);H("Query.off",2,b,!0);Wc("Query.off",3,c);var d=null,e=null;"value"===a?d=new Of(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Pf(e,null,c||null));e=this.H;d=".info"===K(this.path)?e.W.Xa(this,d):e.f.Xa(this,d);tf(e.g,this.path,d)};Y.prototype.off=Y.prototype.gb;Y.prototype.off=Y.prototype.gb;
Y.prototype.vd=function(a,b){function c(k){f&&(f=!1,e.gb(a,c),b&&b.call(d.context,k),g.m(k))}G("Query.once",1,4,arguments.length);ld("Query.once",a,!1);H("Query.once",2,b,!0);var d=Ri("Query.once",arguments[2],arguments[3]),e=this,f=!0,g=new D;Fc(g.f);this.Wa(a,c,function(b){e.gb(a,c);d.cancel&&d.cancel.call(d.context,b);g.g(b)});return g.f};Y.prototype.once=Y.prototype.vd;Y.prototype.once=Y.prototype.vd;
Y.prototype.Pc=function(a){A("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");G("Query.limit",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.F.ka)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.F.Pc(a);Pi(b);return new Y(this.H,this.path,b,this.f)};Y.prototype.limit=Y.prototype.Pc;
Y.prototype.lc=function(a){G("Query.limitToFirst",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.F.ka)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.H,this.path,this.F.lc(a),this.f)};Y.prototype.limitToFirst=Y.prototype.lc;Y.prototype.limitToFirst=Y.prototype.lc;
Y.prototype.mc=function(a){G("Query.limitToLast",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.F.ka)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.H,this.path,this.F.mc(a),this.f)};Y.prototype.limitToLast=Y.prototype.mc;Y.prototype.limitToLast=Y.prototype.mc;
Y.prototype.xd=function(a){G("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');md("Query.orderByChild",1,a,!1);Qi(this,"Query.orderByChild");var b=Ni(this.F,new Me(a));Oi(b);return new Y(this.H,
this.path,b,!0)};Y.prototype.orderByChild=Y.prototype.xd;Y.prototype.orderByChild=Y.prototype.xd;Y.prototype.yd=function(){G("Query.orderByKey",0,0,arguments.length);Qi(this,"Query.orderByKey");var a=Ni(this.F,Re);Oi(a);return new Y(this.H,this.path,a,!0)};Y.prototype.orderByKey=Y.prototype.yd;Y.prototype.orderByKey=Y.prototype.yd;Y.prototype.zd=function(){G("Query.orderByPriority",0,0,arguments.length);Qi(this,"Query.orderByPriority");var a=Ni(this.F,R);Oi(a);return new Y(this.H,this.path,a,!0)};
Y.prototype.orderByPriority=Y.prototype.zd;Y.prototype.orderByPriority=Y.prototype.zd;Y.prototype.Ad=function(){G("Query.orderByValue",0,0,arguments.length);Qi(this,"Query.orderByValue");var a=Ni(this.F,Ue);Oi(a);return new Y(this.H,this.path,a,!0)};Y.prototype.orderByValue=Y.prototype.Ad;Y.prototype.orderByValue=Y.prototype.Ad;
Y.prototype.Vb=function(a,b){G("Query.startAt",0,2,arguments.length);gd("Query.startAt",a,this.path,!0);md("Query.startAt",2,b,!0);var c=this.F.Vb(a,b);Pi(c);Oi(c);if(this.F.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new Y(this.H,this.path,c,this.f)};Y.prototype.startAt=Y.prototype.Vb;Y.prototype.startAt=Y.prototype.Vb;
Y.prototype.Nb=function(a,b){G("Query.endAt",0,2,arguments.length);gd("Query.endAt",a,this.path,!0);md("Query.endAt",2,b,!0);var c=this.F.Nb(a,b);Pi(c);Oi(c);if(this.F.ma)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.H,this.path,c,this.f)};Y.prototype.endAt=Y.prototype.Nb;Y.prototype.endAt=Y.prototype.Nb;
Y.prototype.hd=function(a,b){G("Query.equalTo",1,2,arguments.length);gd("Query.equalTo",a,this.path,!1);md("Query.equalTo",2,b,!0);if(this.F.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.F.ma)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Vb(a,b).Nb(a,b)};Y.prototype.equalTo=Y.prototype.hd;Y.prototype.equalTo=Y.prototype.hd;
Y.prototype.toString=function(){G("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.aa;c<a.D.length;c++)""!==a.D[c]&&(b+="/"+encodeURIComponent(String(a.D[c])));return this.H.toString()+(b||"/")};Y.prototype.toString=Y.prototype.toString;Y.prototype.ra=function(){var a=Gb(pe(this.F));return"{}"===a?"default":a};
function Ri(a,b,c){var d={cancel:null,context:null};if(b&&c)d.cancel=b,H(a,3,d.cancel,!0),d.context=c,Wc(a,4,d.context);else if(b)if("object"===typeof b&&null!==b)d.context=b;else if("function"===typeof b)d.cancel=b;else throw Error(Vc(a,3,!0)+" must either be a cancel callback or a context object.");return d};var Z={};Z.Gb=ke;Z.DataConnection=Z.Gb;ke.prototype.Nd=function(a,b){this.wa("q",{p:a},b)};Z.Gb.prototype.simpleListen=Z.Gb.prototype.Nd;ke.prototype.Ld=function(a,b){this.wa("echo",{d:a},b)};Z.Gb.prototype.echo=Z.Gb.prototype.Ld;ke.prototype.interrupt=ke.prototype.fb;Z.Pd=be;Z.RealTimeConnection=Z.Pd;be.prototype.sendRequest=be.prototype.wa;be.prototype.close=be.prototype.close;
Z.be=function(a){var b=ke.prototype.Fb;ke.prototype.Fb=function(c,d,e,f){p(f)&&(f=a());b.call(this,c,d,e,f)};return function(){ke.prototype.Fb=b}};Z.hijackHash=Z.be;Z.Kd=La.Ue;Z.ConnectionTarget=Z.Kd;Z.ra=function(a){return a.ra()};Z.queryIdentifier=Z.ra;Z.fe=function(a){return a.H.Ja.ea};Z.listens=Z.fe;Z.Ic=function(a){a.Ic()};Z.forceRestClient=Z.Ic;Yd().__regService("sync",function(a){return new V(a)});
function V(a,b,c){this.app=a;if(!b&&!c){b=a.options.syncURL;if(!b)throw Error("Could not find 'syncURL' in options.");a=Cb(b);b=a.Fe;"wilddog"===a.domain&&Bb(a.host+" is no longer supported. Please use <YOUR WILDDOG>.wilddogio.com instead");b||Bb("Cannot parse Wilddog url. Please use https://<YOUR WILDDOG>.wilddogio.com");a.jb||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Wilddog access from a secure page. Please use https in calls to new Wilddog().");
b=new oi(a.host,a.jb,b);a=new I(a.Ub);c=yi.ub();var d=this.app,e=b.toString();c.f[d.name]||(c.f[d.name]={});var f=t(c.f[d.name],e);f||(f=new bi(d,b,c.g),c.f[d.name][e]=f);b=f;c=a}Y.call(this,b,c,Li,!1)}la(V,Y);V.prototype.name=function(){A("Wilddog.name() being deprecated. Please use Wilddog.key() instead.");G("Wilddog.name",0,0,arguments.length);return this.key()};V.prototype.name=V.prototype.name;V.prototype.key=function(){G("Wilddog.key",0,0,arguments.length);return this.path.j()?null:Yc(this.path)};
V.prototype.key=V.prototype.key;V.prototype.B=function(a){G("Wilddog.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof I))if(null===K(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));nd("Wilddog.child",b)}else nd("Wilddog.child",a);return new V(this.app,this.H,this.path.B(a))};V.prototype.child=V.prototype.B;V.prototype.parent=function(){G("Wilddog.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new V(this.app,this.H,a)};
V.prototype.parent=V.prototype.parent;V.prototype.root=function(){G("Wilddog.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};V.prototype.root=V.prototype.root;V.prototype.set=function(a,b){G("Wilddog.set",1,2,arguments.length);od("Wilddog.set",this.path);gd("Wilddog.set",a,this.path,!1);H("Wilddog.set",2,b,!0);var c=new D;this.H.Ya(this.path,a,null,E(c,b));return c.f};V.prototype.set=V.prototype.set;
V.prototype.update=function(a,b){G("Wilddog.update",1,2,arguments.length);od("Wilddog.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;A("Passing an Array to Wilddog.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jd("Wilddog.update",a,this.path);H("Wilddog.update",2,b,!0);c=new D;this.H.update(this.path,a,E(c,b));return c.f};V.prototype.update=V.prototype.update;
V.prototype.Ya=function(a,b,c){G("Wilddog.setWithPriority",2,3,arguments.length);od("Wilddog.setWithPriority",this.path);gd("Wilddog.setWithPriority",a,this.path,!1);kd("Wilddog.setWithPriority",2,b);H("Wilddog.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Wilddog.setWithPriority failed: "+this.key()+" is a read-only object.";var d=new D;this.H.Ya(this.path,a,b,E(d,c));return d.f};V.prototype.setWithPriority=V.prototype.Ya;
V.prototype.remove=function(a){G("Wilddog.remove",0,1,arguments.length);od("Wilddog.remove",this.path);H("Wilddog.remove",1,a,!0);this.set(null,a)};V.prototype.remove=V.prototype.remove;
V.prototype.transaction=function(a,b,c){G("Wilddog.transaction",1,3,arguments.length);od("Wilddog.transaction",this.path);H("Wilddog.transaction",1,a,!1);H("Wilddog.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(Vc("Wilddog.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Wilddog.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new D;ga(b)&&Fc(d.f);pi(this.H,this.path,a,function(a,c,g){a?d.g(a):
d.m(new Bi(c,g));ga(b)&&b(a,c,g)},c);return d.f};V.prototype.transaction=V.prototype.transaction;V.prototype.ve=function(a,b){G("Wilddog.setPriority",1,2,arguments.length);od("Wilddog.setPriority",this.path);kd("Wilddog.setPriority",1,a);H("Wilddog.setPriority",2,b,!0);var c=new D;this.H.Ya(this.path.B(".priority"),a,null,E(c,b));return c.f};V.prototype.setPriority=V.prototype.ve;
V.prototype.push=function(a,b){G("Wilddog.push",0,2,arguments.length);od("Wilddog.push",this.path);gd("Wilddog.push",a,this.path,!0);H("Wilddog.push",2,b,!0);var c=ei(this.H),d=Ci(c),c=this.B(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.B(d)});c.then=r(f.then,f);c["catch"]=r(f.then,f,void 0);ga(b)&&Fc(f)}return c};V.prototype.push=V.prototype.push;V.prototype.onDisconnect=function(){od("Wilddog.onDisconnect",this.path);return new X(this.H,this.path)};V.prototype.onDisconnect=V.prototype.onDisconnect;
function Si(){G("Wilddog.goOffline",0,0,arguments.length);yi.ub().fb(this.app)}aa("Wilddog.goOffline",Si);function Ti(){G("Wilddog.goOnline",0,0,arguments.length);yi.ub().Db(this.app)}aa("Wilddog.goOnline",Ti);
function yb(a,b){z(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?wb=r(console.log,console):"object"===typeof console.log&&(wb=function(a){console.log(a)})),b&&y.set("logging_enabled",!0)):a?wb=a:(wb=null,y.remove("logging_enabled"))}var rb=CLIENT_VERSION;V.prototype.goOffline=Si;V.prototype.goOnline=Ti;V.prototype.enableLogging=yb;V.prototype.ServerValue={TIMESTAMP:{".sv":"timestamp"}};
V.prototype.SDK_VERSION=rb;V.prototype.INTERNAL=W;V.prototype.TEST_ACCESS=Z;var Ui={le:{}};Ui.le.all={};Ui=Yd();
(function(a){a.auth=a.auth?a.auth:{};[{id:"password",name:"Wilddog",Za:"phoneOrEmail",La:"password"},{id:"password",name:"Email",Za:"email",La:"password"},{id:"qq",name:"QQ",Za:"accessToken",La:"openId"},{id:"weibo",name:"Weibo",Za:"accessToken",La:"openId"},{id:"weixin",name:"Weixin",Za:"accessToken",La:"openId"},{id:"weixinmp",name:"Weixinmp",Za:"accessToken",La:"openId"}].forEach(function(b){a.auth[b.name+"AuthProvider"]=function(){this.id=b.id;this.addScope=function(a){this.scope=a}};"Wilddog"==
b.name?(a.auth.WilddogAuthProvider.emailCredential=function(a,d){var e={};e.provider=b.id;e.email=a;e[b.La]=d;return e},a.auth.WilddogAuthProvider.phoneCredential=function(a,d){var e={};e.provider=b.id;e.phone=a;e[b.La]=d;return e}):a.auth[b.name+"AuthProvider"].credential="Email"==b.name?function(a,d){A("wilddog.auth.EmailAuthProvider being deprecated. Please usewilddog.auth.WilddogAuthProvider instead.");var e={};e.provider=b.id;e[b.Za]=a;e[b.La]=d;return e}:function(a,d){var e={};e.provider=b.id;
e[b.Za]=a;e[b.La]=d;return e}})})(Ui);1!=NODE_CLIENT?("object"==typeof module&&module.exports&&(module.exports=Ui),"function"==typeof define&&define.amd&&define("wilddog",[],function(){return Ui}),window?window.wilddog=Ui:WorkerGlobalScope&&self&&(self.wilddog=Ui)):module.exports=Ui;
};ns.wrapper(ns.goog,ns.wd)})({goog:{},wd:{}})